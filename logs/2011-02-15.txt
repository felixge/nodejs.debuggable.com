[00:00] tanepiper: [5~[6~[5~[5~[5~[5~[1~[1~[1~[5~[5~[5~[5~[6~[6~[6~[6~
[00:00] visnup: sh1mmer: hopefully satire
[00:00] arlolra: piscisaureus: so no make bench?
[00:00] piscisaureus: arlolra: do it anyway
[00:00] piscisaureus: let's see what happens
[00:01] arlolra: ok
[00:01] astoon has joined the channel
[00:02] tanepiper: whoops, weird crashy issue here :D
[00:02] mnot has joined the channel
[00:02] tanepiper: sometimes irssi + screen + ssh goes weird
[00:02] piscisaureus: arlolra: can I test my buildslave anyhow? I need to check whether the windows service is set up correctly etc
[00:02] NuckingFuts: arlolra: You said you're adding a cygwin system or what?
[00:02] chrischris has joined the channel
[00:03] kiddphunk has joined the channel
[00:03] arlolra: piscisaureus: yup, one sec
[00:03] arlolra: just rewriting something
[00:03] arlolra: to account for no ssl
[00:03] arlolra: NuckingFuts: yup ... shortly
[00:04] NuckingFuts: yay
[00:04] ryah:  /window 8
[00:04] NuckingFuts: ...
[00:04] NuckingFuts: wat?
[00:05] pandeiro has joined the channel
[00:05] piscisaureus_ has joined the channel
[00:08] tmzt: tanepiper: ctrl+alt+shiftF or ctrl+alt+shiftQ for XON
[00:09] FireFly|n900 has joined the channel
[00:09] fairwinds: tjholowaychuk: hey. was thinking more on plugin approach. There is css and js to consider as well. In python in wsgi, I would inject these things into head with middleware.
[00:09] pekim has joined the channel
[00:10] hornairs has joined the channel
[00:10] tjholowaychuk: fairwinds: well we do have middleware
[00:11] tjholowaychuk: remember though this is js, you can proxy methods easily to inject custom behavior
[00:11] tjholowaychuk: i did what you are doing for a prototype node CMS
[00:11] tjholowaychuk: but without touching express
[00:11] fairwinds: tjholowaychuk: yup and going to use it :-)
[00:11] fairwinds: cool
[00:12] aurynn has joined the channel
[00:13] aurynn: Hey - so I want to do var mylib = require("mylib")();
[00:13] aurynn: is this feasible, or just dumb?
[00:13] ryah: aurynn: dumb. module.exports = function () { console.log('hello'); };
[00:14] aurynn: Dumb it is then.
[00:14] aurynn: :)
[00:14] trotter has joined the channel
[00:14] Ratty_: Aye
[00:14] devrim has joined the channel
[00:14] tjholowaychuk: aurynn: people usually do that with constructors only
[00:15] tanepiper: tjholowaychuk: reminds me, weirdly if i try include Winston as a global logger, or an a per-module require really fucks with my app. need to try dependency injection
[00:15] tjholowaychuk: or some middleware
[00:15] isaacs has joined the channel
[00:15] tjholowaychuk: tanepiper: what is that
[00:15] aurynn: well, I'm getting too many db handles because I'm requiring the module I define it in repeatedly. I'd like to pass it to my middleware sensibly.
[00:15] tanepiper: logger module
[00:15] tanepiper: i.e logger.info logger.error type stuff
[00:15] tjholowaychuk: ah
[00:16] tanepiper: no idea why it would crash my app but does, but yet to try it as dependency injection
[00:16] tjholowaychuk: dunno
[00:16] tjholowaychuk: never heard of it
[00:17] tanepiper: nahh it was just your comment there reminded me i need to try that, but i need to wrap everything in a module.exports = (logger) -> 
[00:17] tanepiper: was one of those "huh, WTF" moments today
[00:18] narayan82 has joined the channel
[00:21] piscisaureus: ryah: you've seen that strnlen commit?
[00:22] arlolra: piscisaureus:  offline http://buildbot.nodejs.org/waterfall
[00:22] piscisaureus: arlolra: :-0
[00:23] jpstrikesback has joined the channel
[00:23] piscisaureus: arlolra: idle 1/2
[00:23] arlolra: piscisaureus: should i force a build?
[00:23] jpstrikesback has joined the channel
[00:23] piscisaureus: arlolra: can I do that myself?
[00:23] arlolra: sure
[00:23] piscisaureus: well yeah do it
[00:24] piscisaureus: how?
[00:24] arlolra: just click MinGW32
[00:24] trotter has joined the channel
[00:24] arlolra: then fill in your name and click force
[00:24] arlolra: i don't leave that up all the time though
[00:24] piscisaureus: ok
[00:25] piscisaureus: I don't know if I well get the cygwin slave up today
[00:25] piscisaureus: trying
[00:25] warz has joined the channel
[00:25] arlolra: well, its waiting for you ... when it connects it'll start build on commit
[00:25] blaines has joined the channel
[00:25] arlolra: which happens often enough
[00:25] Remoun has joined the channel
[00:25] piscisaureus: ok
[00:25] eyesUnclouded has joined the channel
[00:25] piscisaureus: this one will fail anyway because ryah need to land some
[00:27] piscisaureus: arlolra: '.' is not recognized as an internal or external command,
[00:27] piscisaureus: operable program or batch file.
[00:27] piscisaureus: :-s
[00:27] jakehow has joined the channel
[00:27] tilgovi: maybe this is an odd pattern, but I feel like js should have a way for me to handle it. Can I call a constructor to wrap a pre-existing object with some "class" methods
[00:28] tilgovi: I basically want the constructor to run, attaching all the class methods, but on a pre-existing this
[00:28] tanepiper: foo.prototype = bar ?
[00:29] arlolra: piscisaureus: hmmm
[00:29] arlolra: any ideas?
[00:29] tilgovi: tanepiper: ah. this should do it maybe.
[00:29] piscisaureus: arlolra: not atm. I guess buildbot-slave is running the build in the wrong shell
[00:30] mtwdmn has joined the channel
[00:30] jpstrikesback1 has joined the channel
[00:31] arlolra: is "./configure --debug --without-ssl" proper for windows
[00:31] sprout has joined the channel
[00:33] aheckmann has joined the channel
[00:34] dguttman has joined the channel
[00:34] dguttman has joined the channel
[00:35] bartt has joined the channel
[00:36] mike5w3c_ has joined the channel
[00:39] Aria has joined the channel
[00:40] CIA-39: node: 03Richard Rodger 07v0.4 * rb11d78b 10/ (lib/http.js test/simple/test-http-dns-fail.js): 
[00:40] CIA-39: node: Fix for DNS fail in HTTP request
[00:40] CIA-39: node: Closes GH-653. - http://bit.ly/hXgxlo
[00:41] ryah: arlolra, piscisaureus: we'll be working in the v0.4 branch for the next few weeks
[00:41] ryah: is it possible to set the build slaves to hit that?
[00:41] arlolra: already done
[00:42] ryah: oh, awesome
[00:42] arlolra: v0.2, v0.4, master
[00:42] ryah: poor build slaves
[00:42] ryah: so much work to do
[00:42] arlolra: ha
[00:42] ryah: how can i see the different builds?
[00:42] ryah: branches?
[00:43] chris6F_ has joined the channel
[00:44] arlolra: hmmm ... everything is all mangled together eh
[00:46] MikhX has joined the channel
[00:46] NuckingFuts: arlolra: A lot of those are offline lol
[00:47] arlolra: ryah: http://buildbot.nodejs.org/grid ... shows "in branch"
[00:47] NuckingFuts: OSX 10.6.4: offline / 8 pending
[00:47] NuckingFuts: Made me lol
[00:48] arlolra: NuckingFuts: 3 are offline ... cygwin isn't setup yet, one osx is very sensitive and i have to reset it after working stuff ... the one with 8 i guess i need to contact the owner
[00:48] maushu: http://android.stackexchange.com/questions/5984/justin-bieber-detector
[00:49] jpld has joined the channel
[00:49] aro has joined the channel
[00:49] piscisaureus: hmm. debugging this buildbot is a little hard
[00:50] arlolra: ryah: configured solaris --no-ssl and its making pretty pictures again http://arlolra.no.de/solaris/ab-hello-world-buffer-1024
[00:50] arlolra: piscisaureus: almost seems like its trying to run "." and not "configure"
[00:51] piscisaureus: arlolra: no the problem is that it's using cmd as a shell, not bash
[00:51] NuckingFuts: ACTION goes to reboot his laptop
[00:51] piscisaureus: on windows ./configure means what linux ppl would call  ./. --configure 
[00:51] samsonjs has joined the channel
[00:52] arlolra: i see
[00:52] arlolra: http://trac.buildbot.net/wiki/CygwinShellCommands
[00:52] piscisaureus: arlolra: this is msys :-)
[00:52] piscisaureus: cygwin is for tomorrow, heh
[00:53] jacobolus has joined the channel
[00:54] arlolra: http://termite.services.openoffice.org/buildbot/builders/MinGW/builds/792
[00:55] piscisaureus: arlolra: that one uses cygwin to build with mingw32
[00:56] arlolra: i'll stop pasting links now
[00:56] piscisaureus: sadly, cygwin stopped supporting that
[00:56] zylo_ has joined the channel
[00:56] piscisaureus: arlolra: thanks anyway :-)
[00:56] arlolra: but maybe open office has a solution
[00:56] zylo has joined the channel
[00:56] piscisaureus: arlolra: I think I can hack buildslave a tiny little bit to make it use the right shell
[00:58] kubrow_ has joined the channel
[00:58] piscisaureus: if you don't mind me hitting the rebuild button all the time
[00:59] arlolra: piscisaureus: build away
[00:59] arlolra: gonna step out for a bit
[00:59] arlolra: i'm sure buildbot has a solution though
[00:59] arlolra: so don't beat yourself up
[01:01] saikat has joined the channel
[01:01] creationix has joined the channel
[01:01] creationix: hey everyone
[01:02] saikat has joined the channel
[01:05] creationix: is the old http client API still available in 0.4.0
[01:05] creationix: someone told me it's still there, but deprecated
[01:07] jesusabdullah: Are the docs on nodejs.org for 0.4 now or for 0.3 still?
[01:07] zentoooo has joined the channel
[01:07] drdave has joined the channel
[01:07] cognominal has joined the channel
[01:07] arlolra: piscisaureus: can i explicitly call what shell to use? bash ./configu
[01:08] bartt1 has joined the channel
[01:08] piscisaureus: arlolra: yeah that should work
[01:08] arlolra: would you rather i do that then?
[01:09] piscisaureus: arlolra: just wait for a while, cuz i'm not sure that would work actually
[01:09] piscisaureus: I'll ping you when its needed 
[01:09] lukegalea_ has joined the channel
[01:09] arlolra: piscisaureus: alright ... i'll be back in about an hour or so
[01:10] piscisaureus: ok that's fine
[01:11] NuckingFuts has joined the channel
[01:12] eyesUnclouded has joined the channel
[01:13] piscisaureus: arlolra: heh. grokked it
[01:13] frodenius has joined the channel
[01:13] frodenius has joined the channel
[01:13] arlolra: awesome
[01:14] tyfighter has joined the channel
[01:14] NuckingFuts: lol nodelog is full of fail
[01:14] boaz has joined the channel
[01:14] NuckingFuts: Can't see quits
[01:15] arnorhs has joined the channel
[01:17] Utkarsh__ has joined the channel
[01:17] Utkarsh has joined the channel
[01:20] arlolra: ryah: to answer your question, prepend the branch to waterall ?branch=v0.4
[01:20] arlolra: ryah: http://buildbot.nodejs.org/waterfall?branch=v0.4
[01:20] blowery has joined the channel
[01:21] skm has joined the channel
[01:22] visnup has joined the channel
[01:24] EricL has joined the channel
[01:26] lukegalea_ has joined the channel
[01:26] ryah: arlolra: great
[01:27] CIA-39: node: 03Ryan Dahl 07v0.4 * rbd09410 10/ benchmark/v8_bench.js : Add script for running V8 benchmarks - http://bit.ly/h8u2fJ
[01:27] creationix: does anyone have an XMLHttpRequest implemention that wraps node's new http api?
[01:27] piscisaureus: ryah: these buildbots would actually be useful if they were green most of the time :-)
[01:28] Utkarsh_ has joined the channel
[01:29] bartt has joined the channel
[01:32] Utkarsh has joined the channel
[01:33] Vertice has joined the channel
[01:33] arnorhs has joined the channel
[01:36] MikhX has joined the channel
[01:38] arlolra: piscisaureus: can you install apache bench
[01:38] piscisaureus: ok
[01:38] arlolra: ps. i'm not here
[01:39] piscisaureus: arlolra: I'm not talking to you
[01:40] wilmoore has joined the channel
[01:42] Me1000 has joined the channel
[01:44] pengwynn has joined the channel
[01:45] piscisaureus: ryah: arlolra: by running two builslaves on the same machine, benchmark results will be pretty useless
[01:47] isaacs has joined the channel
[01:47] ecto has joined the channel
[01:49] sprout has joined the channel
[01:50] lukegalea_ has joined the channel
[01:51] ryah: piscisaureus: the test runner works for you in windows, right?
[01:51] piscisaureus: yeah
[01:51] ryah: did you see that message to the mailing list
[01:51] ryah: ?
[01:51] piscisaureus: yeah I don't really know what's happening there
[01:52] piscisaureus: I think it's issues with python and msys biting each other
[01:52] piscisaureus: ryah: btw the test runner does not work on the buildslave
[01:53] piscisaureus: :s
[01:53] piscisaureus: the problem is that mingw relies on msys
[01:53] piscisaureus: and msys is only slightly less lame than cygwin
[01:55] isaacs: piscisaureus: the goal is msvc, right?
[01:56] jetheredge has joined the channel
[01:57] piscisaureus: yeah
[01:58] piscisaureus: jonaslund was trying, i'm still waiting for msdn subscription
[02:00] blaines_ has joined the channel
[02:00] piscisaureus: I could use some more hands, instead all I get is job offers
[02:01] blaines has joined the channel
[02:02] sumit: .
[02:02] sumit: .
[02:02] sumit: .
[02:02] sumit: .
[02:02] sumit: .Is there any one who is using mongoose by chance ?
[02:02] sumit: .
[02:02] sumit: .
[02:03] trefn has joined the channel
[02:03] trefn: is there a package with a nice recursive merge function? basically jquery.extend?
[02:04] blaines has joined the channel
[02:04] stagas has joined the channel
[02:04] michaelficarra has left the channel
[02:05] blaines has joined the channel
[02:07] blaines has joined the channel
[02:08] kawaz_air has joined the channel
[02:08] luke` has joined the channel
[02:09] ako has joined the channel
[02:09] blaines has joined the channel
[02:10] mscdex: trefn: i use a slightly modified version of jquery.extend
[02:10] trefn: mscdex: have it hosted anywhere? i was planning to do the same thing if i cant find one already
[02:11] lukegalea_ has joined the channel
[02:11] kawaz_air has joined the channel
[02:11] mscdex: trefn: https://github.com/mscdex/node-imap/blob/master/imap.js#L1282
[02:12] blaines has joined the channel
[02:13] trefn: excellent, thanks
[02:13] cronopio has joined the channel
[02:14] bartt1 has joined the channel
[02:15] nejucomo has joined the channel
[02:15] blaines has joined the channel
[02:16] comster has joined the channel
[02:16] charlenopires has joined the channel
[02:17] kawaz_air has joined the channel
[02:20] bartt has joined the channel
[02:20] blaines has joined the channel
[02:23] blaines has joined the channel
[02:23] luke` has joined the channel
[02:28] chris6F has joined the channel
[02:29] benburkert has joined the channel
[02:29] postwait has joined the channel
[02:31] admc has joined the channel
[02:31] samsonjs has joined the channel
[02:32] kevwil has joined the channel
[02:33] huned has joined the channel
[02:33] boaz has joined the channel
[02:34] bingomanatee: ACTION uses mongo native, the way his pa and his pa afiore him did. 
[02:34] kawaz_air has joined the channel
[02:34] bingomanatee: underscore has a simple extend - not guaranteed to produce unique copying though. 
[02:35] bingomanatee: piciaureous: what do you want help with?
[02:36] CIA-39: node: 03Ryan Dahl 07v0.4 * rdaeb5c9 10/ doc/api/modules.markdown : 
[02:36] CIA-39: node: fix doc
[02:36] CIA-39: node: thanks Toshihiro - http://bit.ly/edIdvN
[02:38] CIA-39: node: 03Ryan Dahl 07v0.4 * rad7c2a8 10/ doc/node.1 : escape chars on man page - http://bit.ly/dEloiV
[02:39] softdrink has joined the channel
[02:39] possibilities has joined the channel
[02:40] jwm_ has joined the channel
[02:42] googol has joined the channel
[02:45] deepthawtz has joined the channel
[02:45] robotarmy has joined the channel
[02:50] zentoooo has joined the channel
[02:53] sooli has joined the channel
[02:56] arnorhs has joined the channel
[02:56] dnyy has joined the channel
[02:58] derferman has joined the channel
[03:01] zemanel has joined the channel
[03:03] Ond has joined the channel
[03:06] postwait: trunk don't build for me on mac... strnlen() ?
[03:06] postwait: master rather.
[03:07] piscisaureus: postwait: ryah: mingw doesn't have strnlen either, I have a fix for it
[03:07] clarkfischer has joined the channel
[03:07] jklabo has joined the channel
[03:07] piscisaureus: ryah: it's here: https://github.com/piscisaureus/node/commit/ca44edae9f8e4a6ac36621d10b4f5be2fd5a5418
[03:07] jklabo: I am trying to build 0.4.0 and getting this error: Build failed:  -> task failed (err #1):  {task: cxx node_buffer.cc -> node_buffer_4.o}
[03:08] jklabo: i've googled and came up empty
[03:08] postwait: need to #ifndef HAVE_STRNLEN and push that detection into the configuration process.
[03:11] mscdex: jklabo: gist the entire output, the actual error is above those lines
[03:11] aurynn: Is there a good graphing lib for node yet? Or am I better served with flotr on the client-side?
[03:12] jklabo: ok, just a sec
[03:12] postwait: git reset --hard f11e73044420aa4a4bb9d8503c442fd4cbde040a for now...
[03:13] colinclark has joined the channel
[03:13] jklabo: https://gist.github.com/827034
[03:14] piscisaureus: jklabo: you are trying to build node v0.5
[03:14] mscdex: jklabo: yep, same error as being discussed: strnlen
[03:14] piscisaureus: try git checkout v0.4
[03:14] mscdex: ^
[03:15] mscdex: :)
[03:15] piscisaureus: and what mscdex said
[03:15] piscisaureus: :-)
[03:15] piscisaureus: race condition. again
[03:15] visnup has joined the channel
[03:15] piscisaureus: #node.js really needs a mutex
[03:16] mscdex: aurynn: fwiw there's node-canvas
[03:16] mscdex: which is a start :p
[03:16] jklabo: so I have two versions?
[03:17] aurynn: mscdex, it is a start, but I'm also lazy.
[03:17] aurynn: :)
[03:17] piscisaureus: jklabo: surprise. you have 237812 version
[03:17] mscdex: aurynn: hehe
[03:17] piscisaureus: jklabo: git checkout v0.4 should do the trick
[03:18] dguttman_ has joined the channel
[03:19] jklabo: cool, ty
[03:20] pedrobelo has joined the channel
[03:21] w0rse_ has joined the channel
[03:23] Jaye_ has joined the channel
[03:24] jklabo: it worked. thanks all
[03:25] softdrink has joined the channel
[03:25] tbranyen has joined the channel
[03:25] piscisaureus: ryah: arlorla: it's all not quite working but I'm calling it a day
[03:26] tbranyen: node-waf keeps throwing ImportError: cannot iumport name namedtuple
[03:26] piscisaureus: auf wiedersehn
[03:26] jano has joined the channel
[03:26] tbranyen: god i hate python so much
[03:26] tbranyen: python 3 has broken so much
[03:28] softdrink has joined the channel
[03:28] mscdex: aurynn: also: http://blog.davidpadbury.com/2010/10/03/using-nodejs-to-render-js-charts-on-server/
[03:28] softdrink has joined the channel
[03:28] admc has joined the channel
[03:28] softdrink has joined the channel
[03:29] softdrink has joined the channel
[03:29] softdrink has joined the channel
[03:30] softdrink has joined the channel
[03:31] JulioBarros has joined the channel
[03:32] softdrink has joined the channel
[03:33] softdrink has joined the channel
[03:33] aurynn: Woo!
[03:33] aurynn: :)
[03:33] aurynn: neh, rendering client-side is fine
[03:33] softdrink has joined the channel
[03:33] aurynn: In fact, Highcharts is exactly what I want
[03:34] aurynn: except the not-free part..
[03:35] paulrobinson has joined the channel
[03:36] Ond: You could probably do most of that stuff with raphael or protovis 
[03:38] w0rse_ has joined the channel
[03:39] dspree has joined the channel
[03:39] dspree has joined the channel
[03:39] killfill has joined the channel
[03:39] Dreamer3 has joined the channel
[03:39] benburkert has joined the channel
[03:40] aurynn: While I could, I'd rather not build a graphing library from scratch
[03:41] Gruni has joined the channel
[03:41] aurynn: Raphael looks great, though
[03:41] evanmeagher has joined the channel
[03:41] aurynn: That + mootools == madness!
[03:41] postwait: aurynn: you can get flot working in node.
[03:41] jamescarr has joined the channel
[03:41] mattly has joined the channel
[03:41] postwait: flot is free.
[03:43] samsonjs has joined the channel
[03:44] dspree_ has joined the channel
[03:44] dspree_ has joined the channel
[03:47] AAA_awright: aurynn: Flot is pretty good
[03:47] AAA_awright: Combine with a server-side Canvas and you have a graphing library
[03:47] AAA_awright: Or just push the raw data to the client
[03:47] aurynn: mixing prototype and mootools seems like a bad idea
[03:47] aurynn: and I was probably just going to push raw data around
[03:48] AAA_awright: Why would you have to do that?
[03:48] AAA_awright: Oh flot is jquery hmm
[03:48] aurynn: er, jquery and moo
[03:48] aurynn: no, flotr is protoype
[03:48] AAA_awright: Switch to jquery?
[03:49] AAA_awright: Flot is a pure Javascript plotting library for jQuery. It produces graphical plots of arbitrary datasets on-the-fly client-side. http://code.google.com/p/flot/
[03:49] aurynn: http://solutoire.com/flotr/
[03:49] aurynn: is what I was looking at
[03:49] AAA_awright: It's probably a simple source patch to remove let's see
[03:51] visnup has joined the channel
[03:51] kkaefer: can I call JavaScript functions from a C++ EIO_Callback?
[03:51] AAA_awright: I wonder if there's a de-jquery filter
[03:51] kkaefer: (not the EIO_After*, but the one that is running in a different thread)
[03:52] AAA_awright: All it seems to use is jquery.inArray and such functions already in V8
[03:53] tbranyen: kkaefer: i'd imagine its possible, not entirely sure how tho
[03:54] kkaefer: add it to the process.nextTick queue?
[03:54] kkaefer: I can't call it directly as that would execute two JS functions in parallel
[03:54] kkaefer: which is obviously not something that should ever happen
[03:55] briznad has joined the channel
[03:56] briznad has joined the channel
[03:57] ossareh has joined the channel
[03:58] Yuffster_work has joined the channel
[03:59] Virtuo has joined the channel
[04:01] Vertice has joined the channel
[04:02] dguttman has joined the channel
[04:03] chrischris has joined the channel
[04:04] meso__ has joined the channel
[04:04] NuckingFuts has joined the channel
[04:07] zorzar_ has joined the channel
[04:08] bartt has joined the channel
[04:12] aguynamedben has joined the channel
[04:13] trefn has left the channel
[04:14] ajnasz has joined the channel
[04:16] possibilities has joined the channel
[04:18] bmp has joined the channel
[04:19] _gus has joined the channel
[04:20] kiddphunk has joined the channel
[04:22] _gus: Quick question about v0.3.8 and req.abort() for client side requests. Would abort() work in the case where a connection did not establish for some reason but there is a lingering timeout?
[04:23] _gus: I have a reproducable issue whereby I try and connect to some host and the server isn't up; if I use the same client instance to connect, it won't try until the timeout expires (60s or 120s)
[04:23] _gus: No amount of timeout changing helps
[04:23] _gus: creating a new client instance works fine
[04:25] bmp has left the channel
[04:32] Aria: I'd have to try it to see. But I could imagine that working.
[04:33] Aria: I know that socket re-use is often touchy on some OSes, but I don't know details.
[04:33] Aria: Those bugs might bite.
[04:34] _gus: Aria: Yeah. I just started trying it myself. Not sure why I didn't do that already :)
[04:34] _gus: Aria: thanks
[04:34] Aria: Sure thing.
[04:34] Aria: Report back -- I'm curious to know.
[04:34] Aria: Always makes me wonder how quirks like that leak back into the abstract thing we deal with in high level languages like this.
[04:37] marcello3d has joined the channel
[04:37] marcello3d: so I'm thinking of naming my mongodb module mongolian deadbeef. discuss.
[04:38] Aria: Amusing but long.
[04:38] snafuz: approved.
[04:38] Aria: Good for google uniqueness, terrible to put in a require() line.
[04:38] Aria: And things that differ between their name-name and their filenames always throw people.
[04:38] marcello3d: I'd probably call it mongodb for short
[04:38] marcello3d: or just mongolian
[04:38] Aria: Heh. "mongodb" is taken by ... mongodb, but mongolian isn't a bad choice, actually.
[04:39] Aria: Naming questions like "is it 'node.js' or 'nodejs' or 'node'?" come up a lot.
[04:39] Aria: Put yourself in that position at your own peril.
[04:39] marcello3d: yup
[04:39] marcello3d: my cache library is called taxman
[04:39] marcello3d: and my asynchronous library is waiter :D
[04:40] Aria: Amusing.
[04:40] marcello3d: hmm I also like "cache or credit", if one wanted to go with the whole restaurant motif
[04:40] marcello3d: but too long
[04:40] marcello3d: and CoC might give the wrong idea
[04:41] sumit: ..
[04:41] sumit: .
[04:41] sumit: .
[04:41] sumit: .
[04:41] _gus: mongoat probably isn't taken yet
[04:41] sumit: .
[04:41] sumit: .
[04:41] sumit: .
[04:41] sumit:  .Is there any one who is using mongoose by chance ?
[04:42] ECMAScriptZen: sumit: Lady Gaga's "Born This Way" doesn't apply to trolls.
[04:42] sumit: :-)
[04:42] marcello3d: I haven't used it, but I'm not looking for a orm
[04:42] marcello3d: an orm?
[04:42] sumit: Ok
[04:42] sumit: Yeah
[04:42] Aria: It'll cost you an orm and a leg.
[04:42] ECMAScriptZen: btw, everyone should download Lady Gaga's Born This Way right now: http://www.youtube.com/watch?v=Z4a8QtvOkBQ
[04:43] Aria: How's that S:N ratio treating you, ECMAScriptZen?
[04:43] dspree has joined the channel
[04:43] dspree has joined the channel
[04:43] ECMAScriptZen: Okay, I have a question: module A requires() module B. Can module B require() module A?
[04:43] ECMAScriptZen: Or is that bad?
[04:44] ECMAScriptZen: Aria: Not so good :/
[04:44] gkatsev has joined the channel
[04:46] ECMAScriptZen: modulea.js does: moduleb = require("moduleb.js");
[04:47] ECMAScriptZen: moduleb does: modulea = require("modulea.js");
[04:47] ECMAScriptZen: Is this okay?
[04:47] marcello3d: try it
[04:47] marcello3d: report back
[04:47] Aria: The result of the require is cached, so yes.
[04:47] zlipp has joined the channel
[04:48] ECMAScriptZen: cool
[04:48] marcello3d: aria: but it still might not work
[04:48] ECMAScriptZen: ACTION tries
[04:48] marcello3d: imagine: var moduleb = require("./modulea"); exports.foo = moduleb.bar;
[04:48] marcello3d: var modulea = require("./moduleb"); exports.bar = modulea.foo;
[04:49] marcello3d: clearly that can't work
[04:50] ECMAScriptZen: marcello3d: I am a victim of fatigue atm :/
[04:51] ECMAScriptZen: Only 55 mL of espresso left; I'm in trouble.
[04:52] Aria: You're alert enough to spell espresso properly. That's a good start.
[04:52] ECMAScriptZen: Ture
[04:52] ECMAScriptZen: Okay, maybe not now ;p
[04:54] ECMAScriptZen: ACTION is writing his own node.js framework called "holes"
[04:55] throughnothing_ has joined the channel
[04:55] marcello3d: are you swiss?
[04:56] _gus: I turn my back for 10 days and you guys put out v0.4!
[04:56] marcello3d: 10 days is a long time
[04:56] marcello3d: geezus
[04:56] _gus: nide job
[04:56] marcello3d: I'd get stiff
[04:56] _gus: nice
[04:56] marcello3d: turning my back for that long
[04:56] _gus: well, i've got like 10 things to worry about
[04:56] _gus: maybe 11
[04:57] marcello3d: damn
[04:57] marcello3d: 12 now, with your back and all
[04:57] galaxywatcher has joined the channel
[04:57] _gus: yeah. the doc was not optimistic
[04:57] marcello3d: sorry to hear :(
[04:57] _gus: that's nice of you
[04:59] marcello3d: is there a log4j equivalent on node.js that people like?
[05:02] tmpvar has joined the channel
[05:02] tmpvar: hey all
[05:03] Aria: Hey, tmpvar 
[05:03] tmpvar: im going to cut a 0.2.0 release of jsdom _very_ soon
[05:03] Aria: Sweet!
[05:03] tmpvar: if you have some time, could you run HEAD through the ringer?
[05:03] Aria: Sure.
[05:04] _gus has left the channel
[05:04] tmpvar: tyty
[05:04] Me1000 has joined the channel
[05:05] Aria: Not a single added failed assertion in the HTML5 test suite.
[05:10] Aria: I'll see if I can't wring any more out of it, but looks solid.
[05:11] creationix: tmpvar: you've got XMLHttpRequest implemented somewhere?
[05:11] creationix: maybe part of jsdom
[05:11] tmpvar: yep
[05:11] creationix: updated to node v0.4.0?
[05:11] tmpvar: if you have node-XMLHttpRequest installed it should work
[05:11] tmpvar: creationix, umm.. i suppose
[05:11] mlangenberg has joined the channel
[05:11] tmpvar: all the tests pass
[05:11] creationix: ok, so it's a separate module then
[05:12] tmpvar: yeah, i could add it to the deps
[05:12] tmpvar: not certain of the default behavior there
[05:12] Aria: Also, I've not checked numbers, but I think it's a little faster than it was.
[05:12] tmpvar: yeah, just a tad
[05:13] tmpvar: i hat it almost 2x as fast, and then had to slow it down with some livelist caching shhhtuff
[05:13] tmpvar: s/hat/had
[05:13] Aria: Aw.
[05:14] Aria: Is there any sense or possibility in letting there be a fast level1 view and a slow level3 view of the same DOM?
[05:16] mtwdmn has left the channel
[05:17] tmpvar: i think its about ~18% faster than before
[05:17] tmpvar: rough estimate using `time node test/runner.js`
[05:18] Aria: Nice.
[05:18] marcello3d: Nice.
[05:18] marcello3d: what's jsdom
[05:18] marcello3d: I mean, I can guess
[05:18] marcello3d: but what do you use it for
[05:18] Bosmon2 has joined the channel
[05:19] Aria: I'm intending to use it in a greasemonkey sort of thing implemented as a proxy.
[05:19] Aria: But any kind of scraping and reading pages.
[05:19] Aria: I use it behind the HTML5 parser, too, since the parser needs a tree structure to put stuff in.
[05:20] mikeal has joined the channel
[05:24] dgathright has joined the channel
[05:28] tmpvar: Aria, there will be optimizations. and if you really want, you can spawn a level1 dom
[05:28] tmpvar: which should be pretty fast.. the live lists are one of the biggest problems though
[05:28] nejucomo has joined the channel
[05:29] Aria: Yeah. It's just that after parsing, people are gonna want a bigger DOM.
[05:30] andrewfff has joined the channel
[05:32] Metapony has joined the channel
[05:33] kieren has joined the channel
[05:34] tmpvar: oh, of the same dom
[05:34] tmpvar: hrrrrrm
[05:34] tonymilne has joined the channel
[05:35] Aria: Yeah. Crazy idea. 
[05:35] balaa has joined the channel
[05:35] Aria: But live promoting a level1 to level3 would be nice for that.
[05:39] tmpvar: that is a great idea
[05:39] patcito has joined the channel
[05:44] samsonjs has joined the channel
[05:50] blaines_ has joined the channel
[05:52] blaines has joined the channel
[05:52] ion- has joined the channel
[05:53] derferman has joined the channel
[05:53] robotarmy has joined the channel
[05:54] luke` has joined the channel
[05:54] cpedros has joined the channel
[05:55] hassox_ has joined the channel
[05:59] jimt has joined the channel
[06:04] JulioBarros has joined the channel
[06:05] samcday has joined the channel
[06:05] cronopio has joined the channel
[06:06] hoodoos has joined the channel
[06:06] blueadept has left the channel
[06:07] atmos has joined the channel
[06:08] Coal has joined the channel
[06:10] atmos: is there an easier way to dispatch 20 requests and have a callback when all the results are received than just counting the results as they come in ?
[06:10] ECMAScriptZen: Is it okay ro do a require() inside an eval()?
[06:11] ECMAScriptZen: *to do
[06:11] samcday: atmos, use the async lib @ https://github.com/caolan/async
[06:12] chris6F has joined the channel
[06:12] samcday: async.parallel([/*...list of requests here */, function() { /* this is called when all requests are done */});
[06:12] chris6F has joined the channel
[06:13] atmos: samcday: perfect, thanks
[06:13] andrewfff has joined the channel
[06:14] nejucomo has left the channel
[06:14] Aria: ECMAScriptZen: Yes, with the usual "careful, there's probably a better way" of eval in general
[06:14] ECMAScriptZen: right
[06:14] ECMAScriptZen: What are the big downfalls of eval() though?
[06:15] samcday: ECMAScriptZen: Running untrusted code by mistake, for one
[06:15] ECMAScriptZen: Besides of course the potential RPC vulnerabilities
[06:15] samcday: ECMAScriptZen: Besides, if you're going to do it in node, why not use sandboxing instead of eval?
[06:15] ECMAScriptZen: Node has something called sandboxing?
[06:15] Aria: Making v8 recompile everything in that context.
[06:15] chapel: or sandbox the eval
[06:15] samcday: http://nodejs.org/docs/v0.4.0/api/vm.html
[06:15] Aria: Check out the 'vm' module, ECMAScriptZen 
[06:16] warz has joined the channel
[06:16] samcday: Used to be called sandboxing in 0.1 or 0.2 I think.
[06:16] samcday: Unless I'm crazy ...
[06:16] ECMAScriptZen: kool
[06:16] Aria: Nah, it's known as sandboxing, the technique. It was called Script in 0.2
[06:16] Aria: Also, it's just usually a code smell. Chances are, if you're using eval, you're being too clever. 
[06:18] mnbvasd has joined the channel
[06:18] mikeal has joined the channel
[06:19] prinzdezibel has joined the channel
[06:19] JojoBoss has joined the channel
[06:19] squarepowr has joined the channel
[06:21] ziro` has joined the channel
[06:26] hassox_ has joined the channel
[06:27] Gruni has joined the channel
[06:31] TomY has joined the channel
[06:36] tmpvar: Aria: re: greasemonkey scripts.  I think you may like this: jsdom.env({ html : "string, file, or uri", scripts: [ '/path/to/jquery.js', ... ] }, function(window) {})
[06:36] Aria: Mmm, nice!
[06:36] tmpvar: ironing out kinks, but its going into 0.2.0
[06:36] tmpvar: :)
[06:36] mike5w3c_ has joined the channel
[06:37] muhqu has joined the channel
[06:38] Sebmaster has joined the channel
[06:38] tonymilne: Anyone know if node 0.3.4 setTimeout function returns an int id? 
[06:38] tonymilne: I seem to be getting a timer object when i log the return value.
[06:46] sholmes has joined the channel
[06:46] samcday: tonymilne: Looking at the code @ https://github.com/ry/node/blob/v0.3.4/lib/timers.js#L169, I'd say yeah it's returning an object purposefully.
[06:46] amerine has joined the channel
[06:48] zentoooo has joined the channel
[06:48] mike5w3c has joined the channel
[06:54] derferman has joined the channel
[06:55] tonymilne: So, given that is the case - can I still use clearTimeout to remove a timer i had previously created?
[06:55] samcday: Yup, I've never had a problem with that. Same goes with setInterval/clearInterval.
[06:56] tonymilne: so, really - it's just misleading documentation. (http://nodejs.org/docs/v0.4.0/api/all.html#timers)
[06:57] samcday: Meh, doesn't really say it's an int there anywhere? An identifier for some kind of resource doesn't necessarily have to be an integer. An object is just fine too
[06:58] tonymilne: Yeah, good point. ;) Cheers for your time.
[06:58] samcday: Np! :)
[06:59] ECMAScriptZen: Hey guys, guess what!
[07:00] ECMAScriptZen: I managed to write a server that gets node.js to segfault :D
[07:00] ECMAScriptZen: No modules involved! ;p
[07:00] samcday: Post a Gist, I wanna see :D
[07:01] ECMAScriptZen: Well, it's an infinite loop that involves loading files via fs(), so technically that's a module
[07:02] samcday: Shouldn't segfault though. You should get an uncaught exception stating too many file handles are open.
[07:02] ECMAScriptZen: I can post the source, but it will be more than a gist
[07:02] samcday: I ran into that when I tried opening 100,000 connections to a port in one go using the HTTPagent ;)
[07:03] ECMAScriptZen: It's about four source files. Shall I zip it up?
[07:04] samcday: IMO boil it down to a single easy to understand Gist and post it... If it's definitely reproducible on 0.4.0 then it's worth submitting an issue 
[07:04] mscdex: ECMAScriptZen: segfault or exception?
[07:04] ECMAScriptZen: mscdex: A genuine segmentation fault :)
[07:05] ECMAScriptZen: mscdex: I'm coding something that's pretty crazy, so I'm bound to run into bugs, but still :p
[07:05] sh1mmer has joined the channel
[07:05] ryah: segfault?
[07:05] ECMAScriptZen: :/opt/paradise# node paradise.js
[07:05] ECMAScriptZen: Server running at http://127.0.0.1:92/
[07:06] ECMAScriptZen:  Segmentation fault
[07:06] ryah: backtrace?
[07:06] charlesjolley- has joined the channel
[07:06] meso__ has joined the channel
[07:06] ECMAScriptZen: backtrace?
[07:06] ryah: gdb --args node paradise.js
[07:06] ECMAScriptZen: You mean run some debugger on it?
[07:06] ryah: backtrace
[07:06] charlesjolley- has joined the channel
[07:07] ECMAScriptZen: ok
[07:07] ECMAScriptZen: Just a sec
[07:07] cronopio has joined the channel
[07:09] mscdex: omgdb!
[07:09] ECMAScriptZen: Installing gdb lol
[07:11] ECMAScriptZen: mscdex, ryah, samcday: http://pastie.org/1565544
[07:11] ECMAScriptZen: Check it out. :p
[07:13] ECMAScriptZen: Let me know if you want to see what I'm doing (the source), or if you want me to run other stuff on it like valgrind
[07:14] tmzt: what's the best way to send email in node?
[07:17] tmzt: hmm, mailer maybe
[07:19] Benvie has joined the channel
[07:19] Benvie has left the channel
[07:19] Benvie has joined the channel
[07:20] deepthawtz has joined the channel
[07:20] mikedeboer has joined the channel
[07:22] ECMAScriptZen: So I've stumped you guys? :)
[07:23] chapel: without your code, really means nothing
[07:23] TomY has joined the channel
[07:24] ECMAScriptZen: chapel: Let me get my code up! :)
[07:24] samcday: Yeah I already said before, distill it down to a simple example in a single file and post it
[07:24] ECMAScriptZen: Well, that's what I've done :)
[07:24] mape: Then post it :)
[07:25] samcday: I heard the words fs and infinite loops before :P Can never be a good idea ^_^
[07:25] ryah: ECMAScriptZen: backtrace
[07:25] ECMAScriptZen: ryah: I did
[07:26] ECMAScriptZen: err, give me a sec
[07:26] andrewfff has joined the channel
[07:28] ivanfi has joined the channel
[07:28] ECMAScriptZen: ryah: Here's the backtrace: http://pastie.org/1565561
[07:28] ECMAScriptZen: Do you want more?
[07:29] atmos: samcday: have you ever used that async lib with classes ?
[07:29] samcday: atmos: yeah, whys?
[07:29] mape: ECMAScriptZen: Any reason not to just paste it all?
[07:29] atmos: i dunno, i'm getting weird scoping issues
[07:30] ECMAScriptZen: Here's the source: http://www.nowlookup.com/nodecrasher.zip
[07:30] samcday: atmos: Oh. Use bind. So instead of going async.parallel([myClass.fn, myClass2.fn...., do this: async.parallel([myClass.fn.bind(myClass), etc etc
[07:30] ECMAScriptZen: mape: Paging issue with the terminal
[07:30] mape: expand the terminal och copy paste in stages? or possibly pipe it?
[07:32] nilcolor has joined the channel
[07:32] ECMAScriptZen: mape: The backtrace looks fairly uninteresting after the first ten lines. Just a bunch of hex codes, i.e. #13 0x00007f8ceb486079 in ?? ()
[07:32] atmos: samcday: hrmm, here's the coffee output https://gist.github.com/827231
[07:33] ECMAScriptZen: If that's interesting, maybe I can get a dump of the backtrace
[07:33] atmos: the self.build_for on line 16 never sends the right self, it sends { }
[07:33] mape: ECMAScriptZen: They probly just put all those lines into the backtrace to make it look cooler :)
[07:33] andrewfff has joined the channel
[07:34] ECMAScriptZen: If anyone's curious about the source code of the program that is causing the crash: http://www.nowlookup.com/nodecrasher.zip
[07:34] ECMAScriptZen: I will try boiling it down into a gist tomorrow
[07:34] atmos: hehe
[07:35] ECMAScriptZen: But essentially, it happens when you run it in node and then try to load its URL in the browser
[07:35] mraleph has joined the channel
[07:35] nook has joined the channel
[07:36] SamuraiJack has joined the channel
[07:36] ECMAScriptZen: It's a pretty small program though. Should be easy to see what it's doing to node to someone more advanced that me.
[07:36] FireFly has joined the channel
[07:38] nilcolor has joined the channel
[07:39] admc has joined the channel
[07:39] muhqu has joined the channel
[07:39] razvandimescu has joined the channel
[07:40] svenlito_ has joined the channel
[07:44] mape: ECMAScriptZen: is ProcessPage suppose to run 2964 times?
[07:44] sholmes has joined the channel
[07:44] samcday: atmos: Not really following that code (I'm tired lol), but I don't see where you're using async there.
[07:44] sholmes: Is there there something any of you want to tell me?
[07:44] ECMAScriptZen: mape: No of course not, but node.js shouldn't crash either
[07:45] luke` has joined the channel
[07:45] mape: ECMAScriptZen: Doesn't for me
[07:45] ECMAScriptZen: mape: What version of node do you have?
[07:45] ECMAScriptZen: I'm getting a seg fault
[07:45] mape: v0.4.0
[07:45] sholmes: Is there anything I should know about Node.js?
[07:46] sholmes: Bugs/security?
[07:46] samcday: You should know it's awesome ...
[07:46] atmos: samcday: no worries, Map is require("async").map basically but it's coffee generated so there's prolly something i'm missing
[07:46] ECMAScriptZen: mape: I have 0.2.6
[07:46] case__ has joined the channel
[07:46] mape: ECMAScriptZen: Then you should get latest stable
[07:47] ECMAScriptZen: So on 0.4.0 it just ran forever?
[07:47] meso___ has joined the channel
[07:47] sholmes: samcday: I knew someone would say exactly that
[07:47] sholmes: lol
[07:47] sholmes: So I can safely do a complete Node stack no worries?
[07:48] ECMAScriptZen: @ mape 
[07:48] ph^ has joined the channel
[07:48] mape: ECMAScriptZen: No, it stopped at 2964 and then sent the output
[07:48] TomY has joined the channel
[07:48] sholmes: Anyone know of a Node alternative to: http://htmlpurifier.org/ ????
[07:49] ECMAScriptZen: Heh. I wonder why. Probably fs failed after that :p
[07:49] samcday: atmos: Yeah I'm not really too familiar with CoffeeScript either. But scoping issues are always fun with anything async, Function.bind() is your friend!
[07:49] ECMAScriptZen: But isn't my code weird? ;p
[07:49] mscdex: bind is slow :(
[07:49] atmos: if i have a class and i'd like a method on it to be invoked as the iterator what should i look into ?
[07:50] mape: ECMAScriptZen: Using sync is pretty awful yeah
[07:50] ECMAScriptZen: yeah
[07:51] sholmes: Are there any HTML filtering modules?
[07:52] sholmes: ...with a configurable whitelist?
[07:52] antoinevg has joined the channel
[07:52] sholmes: I'd like to take input froma user and run it through a filter that remove invalid HTML (HTML that's not included in my whitelist)
[07:53] sholmes: things like <script> tags, javascript: URIs, CSS rules, etc.
[07:53] mape: sholmes: looked at something like bbcode or the like?
[07:53] sholmes: mape: bbcode isn't what I'm looking for.
[07:54] sholmes: these are the drones I'm looking for...
[07:54] sholmes: xP
[07:54] mape: droids?
[07:54] andrewfff has joined the channel
[07:54] mape: Jup, just figured I'd ask
[07:54] ECMAScriptZen: So 0.2.6 is teh olde?
[07:54] sholmes: lol, I fail at even being a nerd.
[07:54] mape: ECMAScriptZen: 0.4.0 is latest stable
[07:54] ECMAScriptZen: Okay, thanks mape :)
[07:55] sholmes: rape: bbcode only does images and text, I need more layout capabilities. Something like HTML Purifier for Node would be amazing
[07:56] mape: sholmes: create a shim for that then?
[07:56] sholmes: what's a shim?
[07:56] sholmes: g shim
[07:56] sholmes: s shim
[07:56] Ond: A buzzword
[07:56] mape: sholmes: Create a module that spawns an instance of html purifier, feed it with stdin, capture the stdout and provide a callback
[07:57] sholmes: I'm buzzed
[07:57] sholmes: tape: I was thinking that. But I'd rather keep my stack completely Node. xP
[07:57] sholmes: PHP feels slow too.
[07:58] sholmes: But yeah, I could do that, just want to know if there's a Node version of this.
[07:58] groom has joined the channel
[07:58] chapel: write a node based html purifier
[07:58] ryah: ACTION likes the new https module ^^
[07:58] mape: ryah: Did you see the issues mikael was having?
[07:58] sholmes: snapel: That's what I'm talking bout!
[07:58] ryah: (my first https server, in fact)
[07:58] ryah: (well, not really :P)
[07:59] ryah: mape: yeah
[07:59] ryah: there's a few bugs
[07:59] ryah: hopefully i'll have them cleared up in the next few days
[07:59] sholmes: You've never tried Node's HTTPS server stuff?
[07:59] chapel: jholmes: its fun when you purposefully misspell names
[07:59] ryah: sholmes: well, i wrote it... so, yes, i have :)
[08:00] andrewfff has joined the channel
[08:00] mape: ryah: neat
[08:00] chapel: shomeys: ryah is too good to use js
[08:00] chapel: dont know you, he writes all his websites in lisp
[08:00] sholmes: chaplin: why do you say that?
[08:00] ryah: yeah:P (uh, what?)
[08:00] sholmes: ryan: oh, you were just joshing.
[08:01] sholmes: ape: can you write me an HTML Purifier in Node? XD
[08:02] evanmeagher has joined the channel
[08:02] meso__ has joined the channel
[08:03] sholmes: Hmm, I wonder how do I could make routes from subdomains in Express
[08:04] mscdex: ryah: what's the easiest way to upgrade an existing net.Stream to a secure one?
[08:05] meso___ has joined the channel
[08:06] herbySk has joined the channel
[08:08] kal-EL_ has joined the channel
[08:10] samcday has joined the channel
[08:11] crohr has joined the channel
[08:13] croddin has joined the channel
[08:13] Druid_ has joined the channel
[08:14] ryah: mscdex: look at tls.connect
[08:14] ryah: it shows how
[08:17] hwinkel has joined the channel
[08:17] sholmes: ryah: is Node.js secure at this point?
[08:18] SubStack: sholmes: nah it's up on github and everything
[08:18] amerine: rofl
[08:18] sholmes: SubStack: not that kind of security
[08:19] sholmes: I mean is it secure to use the technology for web apps?
[08:19] skm has joined the channel
[08:20] tlrobinson_ has joined the channel
[08:20] dgathright has joined the channel
[08:20] sholmes: will hacker be able to easily hack through my server, granted my code isn't written poorly?
[08:20] briznad has joined the channel
[08:21] mape: sholmes: It it would be easily hacked and ryan knew about it, I'm pretty sure it would be fixed
[08:21] chapel: SubStack: you mind helping me with a problem I am trying to solve, I am working on a module, I have two ways to input data to the module, one is just straight text which is instant, and the other is files, but they have call backs, I through modelling it after the http module might work, where you have req.write and you can call those multiple times, but it doesn't finish it until a req.end call. My problem is the req.end call doesn't know to wait for the f
[08:22] chapel: damn wall of text
[08:22] daglees has joined the channel
[08:22] daglees has joined the channel
[08:22] SubStack: gist it?
[08:23] SubStack: bigints are such fun
[08:23] chapel: heh
[08:23] sholmes: I'm going to make a web service where the verb idiom is 'fuck it'
[08:23] mraleph has joined the channel
[08:24] sholmes: not google it, bing it, or gist it.
[08:24] mraleph: ryah: I saw your message, will investigate
[08:24] samcday has joined the channel
[08:25] pietern has joined the channel
[08:25] ryah: mraleph: thanks
[08:26] chapel: SubStack: https://gist.github.com/49bf0dd516d212cd6e44
[08:26] chapel: its in coffeescript
[08:26] chapel: hope you dont mind
[08:26] chapel: its a very simple example
[08:26] chapel: just trying to figure out the best way to handle it
[08:26] sholmes: coffee is bad for you
[08:27] mikedeboer has joined the channel
[08:27] Jaye_ has joined the channel
[08:28] sholmes: we need a wheatgrassscript
[08:28] sholmes: Doesn't really roll of the tongue though
[08:28] sholmes: I think I'm going to crash, I'm tired.
[08:28] SubStack: teascript
[08:29] sholmes: haha
[08:29] chapel: hah
[08:29] cilantro has joined the channel
[08:29] sholmes: waterscript?
[08:29] chapel: teascript: do you want earl grey or oolong
[08:29] sholmes: oolong sounds like a good language name actually
[08:30] sholmes: ojscript
[08:30] sholmes: sleepscript
[08:30] SubStack: chapel: how about just calling the regular input way from the file reading way?
[08:30] sholmes: zzZZZ
[08:31] sholmes: gnight
[08:31] chapel: hmm, SubStack explain, the regular input way?
[08:32] dspree has joined the channel
[08:32] dspree has joined the channel
[08:32] SubStack: chapel: well your wall of text got cut off
[08:32] SubStack: but I mean the "straight text" way
[08:33] chapel: I through modelling it after the http module might work, where you have req.write and you can call those multiple times, but it doesn't finish it until a req.end call. My problem is the req.end call doesn't know to wait for the file calls I have, and I am not sure how to handle
[08:33] SubStack: call that from the file way to DRY it up a bit
[08:33] chapel: hmm
[08:33] sholmes: how do I update a node package?
[08:33] chapel: well the problem is the inputs
[08:33] sholmes: or check for updates?
[08:33] SubStack: sholmes: npm update pkgname
[08:33] chapel: being that a text input needs different info than when getting files
[08:34] sholmes: substack: ty
[08:34] sholmes: How do I get node-inspector to break on errors?
[08:35] Jaye_: bottom left corner there is a small button to turn that on
[08:36] [AD]Turbo has joined the channel
[08:37] Jaye_: anyone know if there is an node externs file for closure compiler floating around somewhere?
[08:37] saikat has joined the channel
[08:38] Jaye_: sigh, writing one it is i guess
[08:40] [AD]Turbo: yo all
[08:41] Sebmaster: Jaye_: If you find/write one let me know
[08:41] chapel: whats a DRY way of doing that? just check the data as it comes in, and if it has certain types of data, process it one way, or the other?
[08:43] SubStack: chapel: well it's coffee and I'm not as familiar with the product as you are
[08:44] chapel: yeah
[08:44] chapel: well Im checking typeof file and if its an object, it would be parsed as regular text
[08:44] chapel: otherwise it would be handled as a file
[08:44] chapel: that sound okay?
[08:44] chapel: sorry about coffee, I can output js if you want
[08:45] mr_daniel has joined the channel
[08:45] Jaye_: sebmaster: will do
[08:48] mraleph: ryah: indeed looks like a bug, I've opened http://code.google.com/p/v8/issues/detail?id=1157 to track
[08:48] ryah: mraleph: thanks
[08:57] chapel: SubStack: sorry about the coffeescript, here is an even more simplified version of what I am trying to do in js https://gist.github.com/04ae6401d3d86cbaa5f1
[08:58] jopie has joined the channel
[08:58] chapel: I know the idea I am missing, I am just not sure how to approach handling files, in this case at least
[08:58] ntelford has joined the channel
[08:58] chapel: I know I can use EventEmitter
[08:58] tbassetto has joined the channel
[08:58] chapel: and callbacks
[08:58] chapel: and other options
[08:59] chapel: but what is simple and clean, that gets the job done
[08:59] chapel: anyone can help if they want, sorry to single you out SubStack
[09:00] jopie: can anyone point me to the docs on how I should tell node.js where my modules are?
[09:00] jopie: require('mongodb'); doesn't work
[09:00] Jaye_: http://nodejs.org/docs/v0.4.0/api/#require.paths
[09:00] hwinkel has joined the channel
[09:00] adambeynon has joined the channel
[09:01] SubStack: chapel: I would probably put the readFile() outside of that write function
[09:01] SubStack: could have another function that calls your write function
[09:01] daglees has joined the channel
[09:01] daglees has joined the channel
[09:02] riven has joined the channel
[09:03] jopie: Ok, so I added "require.paths.unshift('/usr/local/node');" to the top of my script and it works
[09:03] jopie: how do I do that automagically? NODE_PATHS wasn't searching recursively
[09:03] chapel: hmm, not sure what you mean SubStack, put it outside, as in make a specific function that handles the files that is called?
[09:04] SubStack: chapel: affirmative
[09:04] SubStack: this other function can just call write() itself
[09:04] chapel: doesn't seem like that would solve what my issue is though
[09:04] Utkarsh__ has joined the channel
[09:04] chapel: hmm
[09:05] SubStack: mixing sync and async can be messy is why
[09:05] SubStack: I think that is the issue
[09:05] SubStack: chapel: but then your original question got cut off, that's what I was asking you to gist
[09:05] chapel: I know that is the issue, Im just wondering what the best way to go about it
[09:05] chapel: oh
[09:06] chapel: added it as a comment https://gist.github.com/04ae6401d3d86cbaa5f1#comments
[09:06] CrazyGoogle has joined the channel
[09:06] mscdex: man, i can't get the new tls stuff to work at all for an existing socket
[09:06] mscdex: :(
[09:06] sriley has joined the channel
[09:06] mscdex: i copied the relevant bits from tls.connect() and followed the securepair-client test code
[09:07] mscdex: i get no data on the cleartext stream and only get immediately disconnected
[09:07] Jaye_: chapel: while im sure its bad practice, i have handled problems like that in the past by simply comparing an integer to the length of the files array and doing the callback when they are done
[09:07] Jaye_: its ugly though
[09:07] Utkarsh_ has joined the channel
[09:07] chapel: Jaye_: yeah, that is how I originally handled it, but I am trying to clean it up a bit
[09:08] chapel: I was thinking of using events
[09:08] chapel: but that doesn't seem any cleaner than checking the length
[09:08] matti has joined the channel
[09:09] echosystm has joined the channel
[09:09] echosystm: is anyone here familiar with how libevent/libev actaully work?
[09:09] chapel: maybe I could do an initialize event that passes the array length, and then in .end only finish when all array elements have been handled
[09:10] echosystm: ive written a few c bindings of my own, but i dont really know how they work beyond the fact that i give libev a function pointer and it does stuff...
[09:10] chapel: but it just seems like there is a smarter way of going about it, maybe SubStack is right and I should just only expect async data
[09:10] chapel: and abstract the file stuff out, so if someone is using the module, they would have to pipe in the data themselves
[09:11] aklt has joined the channel
[09:12] Ratty_: npm broken? I can't publish
[09:12] Jaye_: could look at streamlinejs, since you are already abstracting with coffee, all it does is write the callbacks for you though, not actually any cleaner
[09:14] stalled has joined the channel
[09:15] chapel: Im starting to think that maybe I should just keep the module to async stuff, and leave the file reading out of the api
[09:15] MikhX has joined the channel
[09:15] Jaye_: substack is right, mixing sync and async is a PITA
[09:15] Ratty_: npm is very uninformative
[09:16] hwinkel has joined the channel
[09:17] mscdex: ACTION shakes a fist at tls
[09:17] andrewfff has joined the channel
[09:17] Ratty_: Does npm have some sort of verbose mode?
[09:18] Ratty_: So it outputs something more than "npm not ok"
[09:20] Ratty_: http://pastebin.com/bR3vbLwQ
[09:20] mscdex: even using tls.connect() doesn't work
[09:20] mscdex: :(
[09:20] hwinkel1 has joined the channel
[09:22] ROBOd has joined the channel
[09:23] mscdex: hrmm something is afoot
[09:24] v8-test has joined the channel
[09:24] hwinkel has joined the channel
[09:25] antoinevg has left the channel
[09:26] mscdex: ryah: you can't upgrade non-secure connections which have an encoding set
[09:26] mscdex: :S
[09:26] ryah: no
[09:27] Ratty_: Bah, still broken. I'll restart my router, maybe it's my end not npm.
[09:28] v8-test has left the channel
[09:30] Ratty_: Nope, still broken.
[09:30] Ratty_: Is there a manual way to publish an npm package?
[09:30] echosystm: anyone want to try and explain libev to me? i cant get my head around it
[09:31] echosystm: i'm confused about how the "reactor pattern" works when you have multiple event sources
[09:32] echosystm: if you just have a single thread pool running things, its easy to do a basic event loop - just have a loop that polls for the completion of each job in the pool and ten runs an assocaited callback when it is complete
[09:32] pietern: echosystm: while(true) { for event in events: handle_event() }
[09:32] echosystm: but what happens once you throw multiple thread pools or select into the mix?
[09:32] Ratty_: I guess i'll go shower, maybe npm is fixed when I return.
[09:33] riven has joined the channel
[09:33] riven has joined the channel
[09:33] echosystm: do they have some kind of "controlling" thread that pushes their event onto a stack or something in the event loop?
[09:34] nilcolor has joined the channel
[09:34] drdave has joined the channel
[09:36] nilcolor has joined the channel
[09:36] prinzdezibel has joined the channel
[09:37] cainus has joined the channel
[09:38] bwinton has joined the channel
[09:39] mscdex: yay, node-imap is 0.4 compatible!
[09:39] kristsk has joined the channel
[09:40] CrazyGoogle has joined the channel
[09:41] chapel: SubStack: I think I figured out what you meant about moving the file functions out of there, basically you meant to make it a separate function that would be called to collect the data, that then a person could pipe into the write call
[09:42] MrTopf has joined the channel
[09:44] knolan has joined the channel
[09:45] knolan: morning
[09:46] Andi5 has joined the channel
[09:47] margle has joined the channel
[09:48] tc77 has joined the channel
[09:49] Ratty_: Booooo
[09:51] skm has joined the channel
[09:52] case__ has joined the channel
[09:52] mitchell`off has left the channel
[09:52] TomY_ has joined the channel
[09:53] Ratty_: BBC using Node.js?
[09:53] squeeks: err yeah, internally
[09:54] dspree has joined the channel
[09:54] dspree has joined the channel
[09:54] Ratty_: Cool
[09:54] Ratty_: Get rid of all that archaic perl junk.
[09:55] squeeks: acrchaic? Most if not all of it is using modern perl.
[09:55] squeeks: I know some of the guys in iplayer, world services who work on the perl end of things.
[09:56] Ratty_: Really? I heard they were using a very old version of perl because there's too much red tape to upgrade
[09:56] squeeks: I heard they got past that in most of the projects.
[09:57] Ratty_: Good good
[09:57] Ratty_: Woot, got my npm package to publish at last.
[09:59] stalled has joined the channel
[10:02] bzinger has joined the channel
[10:04] altamic has joined the channel
[10:07] EdJ has joined the channel
[10:07] adambeynon: When using `npm link` with a package 'a', I can require('a'), but cant seem to require('a/b') from another module.. is that not meant to work? b is located as "package_root/lib/a/b.js"
[10:07] adambeynon: ...if that makes sense
[10:10] cwo has joined the channel
[10:10] c12 has joined the channel
[10:15] nmtmason has joined the channel
[10:16] dspree has joined the channel
[10:16] dspree has joined the channel
[10:18] micheil: adambeynon: okay, so, a/b is something that changed recently
[10:18] hellp has joined the channel
[10:18] micheil: I think there's something special you actually have to do
[10:20] dspree has joined the channel
[10:20] dspree has joined the channel
[10:20] Lorentz: Hmm, tomorrow 6pm
[10:21] adambeynon: micheil: ok, will keep looking. thanks anyway
[10:23] margle has joined the channel
[10:24] micheil: adambeynon: I forget where that change was noted
[10:25] adambeynon: I found an old thread on the mailing list saying why it might be removed in the future .. must of been done since i last tried using it >_<
[10:27] micheil: there's some special key you need to set in the package.json
[10:29] roge has joined the channel
[10:29] micheil: "directories":{"doc":"./doc","lib":"./lib/ws"}
[10:29] micheil: may be it
[10:29] micheil: (taken from node-websocket-server)
[10:30] Utkarsh has joined the channel
[10:30] micheil: adambeynon: yeah, see the npm package.json
[10:31] herbySk has joined the channel
[10:31] Andi5 has joined the channel
[10:32] d0k has joined the channel
[10:33] eyesUnclouded has joined the channel
[10:35] bx2 has joined the channel
[10:35] adambeynon: micheil: wow, it worked! thanks! 
[10:35] micheil: no worries :)
[10:42] Sebmaster has joined the channel
[10:42] easternbloc has joined the channel
[10:43] Utkarsh has joined the channel
[10:49] args has joined the channel
[10:50] Sebmaster_ has joined the channel
[10:51] args has left the channel
[10:52] linopolus has left the channel
[10:54] fly-away has joined the channel
[10:56] aceking5 has joined the channel
[11:01] [AD]Turbo has joined the channel
[11:05] easternbloc has joined the channel
[11:05] Sebmaster has joined the channel
[11:06] Benvie has joined the channel
[11:06] Coal has joined the channel
[11:08] syntheze has joined the channel
[11:12] danyork has joined the channel
[11:15] nilcolor: can somebody points me to the good WebSocket samples? Of course with Node.js as a backend
[11:15] aceking5: nilcolor: have you checked out socket.io?
[11:15] sth: examples of code or examples of people running node for a websocket server?
[11:17] squeeks: sth: look at the documentation of Socket.io, it's perhaps imho the best websocket implementation.
[11:18] aceking5: you might also find this helpful: http://jeffkreeftmeijer.com/2010/experimenting-with-node-js/
[11:18] nilcolor: aceking5: hear about it... and thanks for the link!
[11:19] sth: squeeks: I have a nodejs ws implementation that woks.
[11:19] sth: And thankfully it doesn't use socket.io
[11:19] squeeks: thankfully?
[11:19] aceking5: why thankfully?
[11:19] sth: yes.
[11:19] JimBastard has joined the channel
[11:19] nilcolor: about socket.io - i have to write some client code. right?
[11:19] sth: Mainly because I couldn't get it to work with the native websocket object in chrome/safari/firefox
[11:19] JimBastard: fuck yeah im trending on github
[11:20] JimBastard: front paaaage
[11:20] aceking5: socket.io has a client library
[11:20] squeeks: socket.io includes all the clients libs as well.
[11:20] JimBastard: socket.io is awesome
[11:20] sth: and I don't really want to use the client lib (which isn't an option when you're providing a service)
[11:20] aceking5: JimBastard: link?
[11:20] JimBastard: use dNode
[11:20] JimBastard: dNode is RMI built on top of socket.io
[11:20] sth: and secondly, I don't want /socket.io/ any where in my path
[11:20] JimBastard: aceking5: https://github.com/Marak/JSONloops
[11:20] sth: when making a connection
[11:20] herbySk has joined the channel
[11:21] JimBastard: https://github.com/substack/dnode
[11:21] Jonasbn_ has joined the channel
[11:22] mape: socket.io seems to have issues on 0.4.0 and xhr
[11:22] aceking5: JimBastard: this is really cool. my audio engineer friend told me about music hackday last night... i wish i heard about it sooner
[11:22] JimBastard: :-D
[11:22] squeeks: sth: sounds like you got burnt a bit. I dunno what happened, but I've never really had a hitch with getting native websockets going on 0.2x and Chrome/Safari. I guess YMMV.
[11:23] sth: squeeks: I tried for a while to get the native websocket object to work with socket.io, it just didn't work. :/
[11:23] aceking5: "JSONLoops is a multi-user audio sequencer reminiscent of Fruityloops." Hah! - My friend produced billboard hot 100's with just fruityloops so he's gonna love this
[11:23] sth: I gave up in the end and wrote my own
[11:24] mraleph has joined the channel
[11:25] aceking5: JimBastard: just curious, what's the license on JSONloops? MIT?
[11:25] JimBastard: aceking5: sure! why not
[11:25] JimBastard: :-D
[11:25] aceking5: haha
[11:26] JimBastard: we gotta get the npm install going
[11:26] JimBastard: its gonna be a bitch to hack on before that for anyone
[11:26] JimBastard: i opened an issue
[11:27] mscdex: sth: i did the same thing
[11:27] sth: mscdex: It seemed easier :)
[11:27] Andi5: JimBastard: Do you have a public URL with a running song?
[11:27] sth: It's not as if the websocket spec is hard to implement
[11:27] squeeks: no it just likes to change a bit
[11:28] JimBastard: Andi5: not yet, ill put one up soon
[11:28] JimBastard: Andi5: you have to appreciate, sound only comes out of the server
[11:28] mscdex: sth: i actually implemented all of the transports, not just websocket
[11:28] mscdex: heh
[11:28] JimBastard: right now the browser only acts as a control interface
[11:28] JimBastard: we made this work in like 12 hours
[11:28] aceking5: but it is technically possible to make each browser play it too right?
[11:28] JimBastard: ;-)
[11:28] JimBastard: ohh hell yeah
[11:28] aceking5: sick
[11:28] JimBastard: just add soundmanager lib
[11:29] aceking5: gotta start hacking that
[11:29] JimBastard: there is a library that does cross browser audio
[11:29] aceking5: oh nice
[11:29] JimBastard: that upgrades / downgrades based on what native apis are there
[11:29] aceking5: jquery for audio?
[11:29] aceking5: lol
[11:29] JimBastard: http://www.schillmania.com/projects/soundmanager2/
[11:29] JimBastard: you gotta be smart though, you'll need to add a good way to transfer the assetts back and forth
[11:29] squeeks: hey that makes me wonder if anyone has done OSC craziness with node...
[11:29] aceking5: nice thanks
[11:29] JimBastard: so you can upload samples from client
[11:30] JimBastard: squeeks: they should
[11:30] aceking5: assets being samples right?
[11:30] JimBastard: my knowledge of audio is more production based then engineering based
[11:30] JimBastard: i havent done a lot of osc stuff at all
[11:30] JimBastard: aceking5: yeah, audio files
[11:30] JimBastard: so you can stream down the samples from the server and they cache in local store or whatever
[11:30] JimBastard: or in memory
[11:30] squeeks: JimBastard: my knowledge of audio is more distribution and encoding based than engineering based
[11:30] JimBastard: and you can upload samples back up to the server which will sync across all
[11:31] aceking5: caching entire samples in local store is possible?
[11:32] aceking5: so theres no hope for this in IE i bet
[11:32] JimBastard: no idea
[11:32] JojoTheBoss has joined the channel
[11:32] JimBastard: you can do it all in memory on the document
[11:32] JimBastard: but if local storage of files is available, maybe through flash or who knows
[11:32] JimBastard: you'd want it to do that
[11:32] JimBastard: memory is fine for now
[11:33] aceking5: but
[11:33] aceking5: samples are binary
[11:33] JimBastard: so?
[11:33] aceking5: how do you store that on client's memory
[11:33] JimBastard: DOM has embed tag
[11:33] aceking5: oh
[11:33] aceking5: right
[11:33] JimBastard: and a load event
[11:33] JimBastard: boom
[11:33] aceking5: sorry, it's 3:30am lol
[11:33] JimBastard: i did a proof of concept with jQuery and raq <embed tags
[11:34] JimBastard: but its slow as fuck
[11:34] JimBastard: the latency is unacceptable
[11:34] fairwinds_ has joined the channel
[11:34] aceking5: oh
[11:34] JimBastard: you need < 20ms from audio.play(file) and hearing it
[11:34] aceking5: any idea why it's slow?
[11:34] JimBastard: and it needs to be like 16 tracks... so thats 16 audio.play()
[11:34] JimBastard: all < 20ms
[11:34] boomboom12 has joined the channel
[11:34] JimBastard: and if the BPM is faster then 60...
[11:34] JimBastard: you could be trying to play 40 sounds at once, browser hates that
[11:35] aceking5: "Using HTML5 and Flash, SoundManager 2 provides reliable cross-platform audio under a single API." - does it always use flash or it just falls back when native APIs aren't available?
[11:36] narayan82 has joined the channel
[11:37] nightowl77 has joined the channel
[11:37] JimBastard: aceking5: that would make sense
[11:38] JimBastard: falls back
[11:38] JimBastard: im sure its configurable
[11:38] aceking5: yeah
[11:38] prinzdezibel has joined the channel
[11:38] JimBastard: see if you can setup a test script
[11:38] aceking5: skimming over docs, looks like it is
[11:38] JimBastard: that plays 20 kicks at once
[11:38] JimBastard: and tell me if its sync
[11:38] JimBastard: :-D
[11:38] JimBastard: there are some basic samples in the JSONloops repo
[11:39] aceking5: 20 kicks at once?
[11:39] aceking5: lol
[11:39] aceking5: too much?
[11:40] aceking5: i'm just gonna steal these: https://github.com/Marak/JSONloops/tree/master/wavs
[11:40] samcday has joined the channel
[11:41] nightowl77: Hi Guys. Dont want to interrupt Jim and ace's conversation, have a quick question for the rest of you
[11:41] aceking5: .play() is asynchronous right?
[11:42] nightowl77: How do I turn off keep-alive for the HTTP server? I have a use case where keep-alive would be bad
[11:42] boomboom12 has left the channel
[11:42] JimBastard: think 8 tracks running at 120 bpm
[11:42] kristsk: with headers
[11:42] JimBastard: thats 16 hits at once
[11:42] JimBastard: every second
[11:43] kristsk: nightowl77: 		res.writeHead(200, {"Content-Type": "text/plain", "Connection": "close"}); <-- this kinda works for me.
[11:43] JimBastard: i think keep-alive is talked about in the docs?
[11:43] nightowl77: So I just go response.writeHead(200, {Keep-alive.... aaahh thank you kind sir. 
[11:43] charlenopires has joined the channel
[11:44] squeeks: okay so which one of you is the BBC employee stalking me?
[11:44] nightowl77: It is but I couldn't figure out how to match up the stream object to the http object
[11:44] aceking5: Partial HTML5 Audio() is present, but flash is needed for MP3 and/or MP4 support. All links to audio will degrade gracefully.
[11:44] aceking5: damnit, why is safari falling back to flash
[11:44] JimBastard: aceking5: i think like, FF4 is the only one with a good audio api? i have no diea
[11:45] JimBastard: there is a lot of domain knowledge to be had on cross-browser audio support
[11:45] aceking5: yes
[11:45] JimBastard: now that i think about it, i think i started to dive into the source code for the SWF they have
[11:45] JimBastard: and there is a specific issue
[11:45] JimBastard: that might require an actionscript wizard
[11:45] JimBastard: or maybe i was being dumb
[11:46] JimBastard: it was about a year ago
[11:46] JimBastard: so im sure a lot of things got updated
[11:46] aceking5: aand chrome gave the same error, let's try FF
[11:47] herbySk has joined the channel
[11:47] aceking5: FF3, no go :(
[11:49] MrNibbles: aceking5: you need to be careful with the ordering
[11:50] nightowl77: Sorry guys, another try. How sould I call the the socket's socket.setKeepAlive object inside the http object. Something like this:
[11:50] aceking5: ordering?
[11:50] nightowl77: http.createServer(function (request, response) {}).listen(80).setKeepAlive(false)
[11:50] nightowl77: I got the setKeepAlive from http://nodejs.org/docs/v0.4.0/api/net.html#socket.setKeepAlive
[11:51] MrNibbles: aceking5: yeah the order you place the fallbacks in the audio tag
[11:51] MrNibbles: or are you talking about something completely different
[11:51] aceking5: im just running the demo it came with
[11:51] aceking5: locally
[11:52] MrNibbles: ah ok, i havent dug into that project
[11:53] fermion has joined the channel
[11:54] aceking5: wait, 0.4.0 is stable now?
[11:55] squeeks: Yes.
[11:55] mscdex: nightowl77: you call setKeepAlive on the socket itself: request.connection.setKeepAlive()
[11:57] mscdex: nightowl77: that's for setting the tcp keepalive, it has nothing to do with the http 'connection' header being set to keep-alive
[11:59] nightowl77: @mscdex: thank you that worked perfectly... another lesson learned (only been working with node.js and javascript for a few days now, complete noob but loving every moment of it)
[11:59] nightowl77: I checked the headers via curl -i and the keep-alive header isn't present anymore. 
[12:00] ROBOd: how do i find the mime type of a file? with nodejs
[12:00] ROBOd: is there any API? looked through the docs ... and nothing
[12:00] knolan has left the channel
[12:01] mape: ROBOd: https://github.com/creationix/simple-mime ?
[12:02] mape: or http://github.com/bentomas/node-mime
[12:02] Utkarsh_ has joined the channel
[12:03] mscdex: you could also check the file with `file --mime foo` using a child process
[12:04] mscdex: er `file -i -b foo`
[12:08] bx2 has joined the channel
[12:09] Utkarsh__ has joined the channel
[12:09] ROBOd: mape: thanks, that's nice. going to use node-mime
[12:18] perlmonkey2 has joined the channel
[12:20] dberlinger has joined the channel
[12:21] stalled has joined the channel
[12:22] pastak has joined the channel
[12:23] eyesUnclouded has joined the channel
[12:24] prinzdezibel has joined the channel
[12:25] okuryu has joined the channel
[12:26] postwait has joined the channel
[12:31] devrim has joined the channel
[12:32] temp01 has joined the channel
[12:36] args has joined the channel
[12:38] FireFly|n900 has joined the channel
[12:38] FireFly|n900 has joined the channel
[12:39] margle has joined the channel
[12:44] perlmonkey2: looking at the new nodepad update I finally get what all the excitement is about over Stylus. 
[12:45] mike5w3c has joined the channel
[12:48] JimBastard: ohh crap, front page of HN
[12:48] JimBastard: http://news.ycombinator.com/news
[12:48] JimBastard: upboat!
[12:49] Utkarsh_ has joined the channel
[12:50] micheil: ha. cool app: http://httpstat.us/
[12:52] jano has joined the channel
[12:52] Utkarsh has joined the channel
[12:53] bx2 has joined the channel
[12:57] mave has joined the channel
[12:57] mave: hi there
[12:57] mave: can someone help me with this error msg?
[12:57] mave: throw e; // process.nextTick error, or 'error' event on first tick
[12:57] jopie: look at the stacktrace
[12:58] astoon has joined the channel
[12:58] jopie: Has anyone here used the geoNear command with MongoDb?
[12:59] jopie: * on node.js
[12:59] Vertice has joined the channel
[13:00] mave: the stacktrace is as following
[13:00] mave: Error: ECONNRESET, Connection reset by peer     at Socket._readImpl (net.js:142:14)     at Socket._onReadable (net.js:580:22)     at IOWatcher.onReadable [as callback] (net.js:156:10)
[13:00] JimBastard: mave: couldnt connect to a server
[13:01] JimBastard: maybe y our database
[13:01] JimBastard: or maybe you making a request somewhere
[13:01] JimBastard: what are you trying to start?
[13:02] mave: there is no db connection
[13:03] mave: connection reset by peer means the client lost connection or not?
[13:04] mave: @jimBastard
[13:04] rawroland has joined the channel
[13:04] ph^ has joined the channel
[13:04] rawroland: Hi node
[13:05] rawroland: Just wanted to find out if there is a foreach loop in node
[13:05] randylien has joined the channel
[13:05] rawroland: I have been seeing it in a lot of places recently
[13:06] nofxx has joined the channel
[13:08] nofxx: For some reason node doesn't knows my npm path anymore, can't require nothing... where`s this load_path? common issue? easy fix?
[13:09] aceking5: foreach? to iterate through an array?
[13:09] aceking5: just use for
[13:11] jopie: nofxx: had the same issue this morning
[13:11] rawroland: I have been using for till now, but I stumbled across an article where foreach was used and I was surprised, hence the question
[13:12] jopie: rawroland: isn't the JS equivalent of foreach also for?
[13:12] jopie: for (something in object)
[13:12] davglass has joined the channel
[13:13] MattJ has joined the channel
[13:13] rawroland: Yes it is and I have been using it.
[13:14] nilcolor has joined the channel
[13:14] nilcolor: is mongodb-native (https://github.com/christkv/node-mongodb-native) available via npm? or i have to d/load and `make` it?
[13:14] rawroland: It was just a curious question.
[13:14] nofxx: jopie: found a solution?
[13:14] jopie: nilcolor: npm install mongodb
[13:14] nmtmason has joined the channel
[13:15] jopie: nofxx: nasty solution was to add " require.paths.unshift('/usr/local/node');" to the top of the file
[13:15] nilcolor: jopie: thanks!
[13:15] jopie: nofxx: I also set the NODE_PATH env variable, but it didn't seem to search recursively
[13:15] mave: @jimBastard: the problem is, if there are many econnresets in a row node is going down
[13:16] nofxx: jopie: I see. 0.4.0 too?
[13:16] jopie: yes
[13:16] nofxx: jopie: ok, thank you
[13:17] sonnym has joined the channel
[13:17] mave: someone can help with error ECONNRESET, Connection reset by peer?
[13:18] yx has joined the channel
[13:18] blowery has joined the channel
[13:18] swistak has joined the channel
[13:19] nilcolor: umm... find other way - git clone it and than use `npm install`
[13:20] sriley: v8 also has Array.forEach
[13:22] herbySk has joined the channel
[13:23] piscisaureus has joined the channel
[13:25] brian_irish has joined the channel
[13:28] piscisaureus: mraleph: that thread on the nodejs group about v0.4 performance
[13:28] piscisaureus: it uses cygwin
[13:29] piscisaureus: and we ripped the Sampler out of it
[13:29] piscisaureus: so I guess that's where the bad numbers come from
[13:29] mave: anybody here can help with error Error: ECONNRESET, Connection reset by peer     at Socket._readImpl (net.js:142:14)     at Socket._onReadable (net.js:580:22)     at IOWatcher.onReadable [as callback] (net.js:156:10)
[13:29] mave: node is everytime going down
[13:29] mave: really need some help
[13:30] broofa has joined the channel
[13:30] mraleph: piscisaureus: well. I see bad measurements on my Linux as well.  
[13:30] piscisaureus: ok, well
[13:31] piscisaureus: then I have no good news for you....
[13:32] mave: no one?
[13:33] Sebmaster has joined the channel
[13:34] dnolen has joined the channel
[13:34] Ari-Ugwu has joined the channel
[13:35] sh1mmer has joined the channel
[13:36] eyesUnclouded has joined the channel
[13:37] kristsk: mave, connecting to firewalled host?
[13:37] mave: no
[13:39] arpegius has joined the channel
[13:40] kristsk: are you sure?
[13:41] lukegalea has joined the channel
[13:42] boaz has joined the channel
[13:47] jlecker has joined the channel
[13:47] mave: kristsk im sure
[13:48] fumanchu182 has joined the channel
[13:50] mave: really dont know how i can fix that
[13:50] mave: dont get it where this error is coming from
[13:51] kristsk: well, somthing is reseting connection
[13:51] bshumate has joined the channel
[13:51] bshumate has joined the channel
[13:52] kristsk: either it is firewalled or you are trying to connect to somtgin that does not want you 
[13:52] felixge has joined the channel
[13:52] felixge has joined the channel
[13:52] kristsk: explicit reset usually means some of those
[13:55] felixge: Q: What's the vocabulary for describing this? var a = b || c;
[13:57] args has left the channel
[14:01] FireFly has joined the channel
[14:02] losing has joined the channel
[14:04] FireFly|n900 has joined the channel
[14:05] squeeks: optional assignment?
[14:06] piscisaureus: felixge: defaulting?
[14:07] ph^ has joined the channel
[14:09] felixge: I guess those sound good
[14:09] felixge: I somehow think I heard another term for it before so
[14:09] felixge: but I can't remember it
[14:09] possibilities has joined the channel
[14:10] felixge: oh well, I described it as an "short-circuit expression" for now
[14:14] sriley has joined the channel
[14:16] phil_p has joined the channel
[14:16] rwaldron has joined the channel
[14:16] unfo-: that's what it basically is
[14:17] unfo-: short-circuit boolean logic
[14:17] hoodoos has joined the channel
[14:17] Zenergy has joined the channel
[14:18] tek has joined the channel
[14:19] sirkitree has joined the channel
[14:19] jacof has joined the channel
[14:20] chrischris has joined the channel
[14:21] zomgbie has joined the channel
[14:21] jacof: Hello everyone. I am sorry for such a silly question but i'm about to use node.js to integrate a mailChimp API for a site, thing is I have no clue on how to install this node.js. I would appreciate just a little direction. 
[14:22] prinzdezibel has joined the channel
[14:22] mraleph: piscisaureus: you should probably default FLAG_crankshaft to false in cygwin port if Sampler was ripped out. or better port the Sampler.
[14:22] cyraxx has joined the channel
[14:22] chrischris has joined the channel
[14:22] phil_parsons has joined the channel
[14:23] micheil: felixge: ping
[14:23] kristsk: jacof: git clone git://github.com/ry/node.git && cd node && ./configure && make && make install 
[14:23] micheil: felixge: can you change that change you did to the docs to be [mode], [callback]
[14:23] micheil: then just say in the description of the method that mode if obmited is 666
[14:24] micheil: (I'm wanting to remove the = from the methods..
[14:24] micheil: (this is already done on docs branch)
[14:24] chapel: micheil: that code you gave me, it doesn't work and I can't seem to get it to work
[14:24] chapel: https://gist.github.com/5a7639e0f30e4af4341c
[14:24] hoodoos: bradleymeck, hello. anything good on seg faults while profiling?
[14:24] felixge: micheil: gnip
[14:24] micheil: gnip?
[14:25] ncb000gt has joined the channel
[14:25] piscisaureus: mraleph: yeah I think porting the sampler could be done now. I tried it once but that didn't work because cygwin also uses this BSD_ABI calling convention, and I didn't know about it then.
[14:25] piscisaureus: But nobody really feels like working on the cygwin port, including me. It's just there to keep windows users happy until we get a stable msvc build.
[14:25] micheil: chapel: it wasn't tested to be honest
[14:25] felixge: micheil: my flavor of pong (ping backwards) :)
[14:25] micheil: oh, right
[14:26] micheil: chapel: the serial() function is probably wrong
[14:26] micheil: look up isaacs step library
[14:26] chapel: micheil: no problem, I can kind of see how it works, but yeah
[14:26] micheil: or flow
[14:26] felixge: micheil: yes, I can make that change
[14:26] micheil: cheers
[14:26] rawroland has joined the channel
[14:26] mraleph: piscisaureus: yes. cygwin is no fun.
[14:26] mraleph: or rather windows is no fun in general :-)
[14:27] micheil: hmm.. 2000 songs on the iphone should be enough..
[14:27] jherdman has joined the channel
[14:27] micheil: felixge: where things are heading: http://static.brandedcode.com/node-docs/api/fs.html#fs.open
[14:28] micheil: (not properly done yet)
[14:28] jacof has left the channel
[14:28] felixge: micheil: the alignment is funky
[14:28] micheil: expected end result: http://cl.ly/1t0840220i1M3i0i1v1t
[14:28] felixge: but otherwise this is cool
[14:28] gattuso has joined the channel
[14:29] micheil: (it's not converting to a table at the moment, hence the alignment
[14:29] micheil: actually, I'm going to write the new doc tool tonight.
[14:30] piscisaureus: mraleph: windows is fun / not fun, that's a matter of taste. But I'm gradually discovering that windows has very good support for event loop driven apps. If only we didn't have to support the *intersection* of mediocre apis that's called posix... :-p
[14:30] jopie: just use virtualbox with Ubuntu Server on windows
[14:30] jopie: saves you so much time and hastle
[14:31] jopie: it's how I run 90% of my dev
[14:31] jopie: and saves resources when you're doing other things
[14:31] felixge: micheil: looking forward to it
[14:31] amacleod has joined the channel
[14:31] micheil: felixge: trust me. will be much more awesome.
[14:32] micheil: this is why I've been telling people to easy up on all that design changes stuff (or part of the reason)
[14:32] felixge: micheil: https://github.com/felixge/node/commit/f909312a3879a9d5e869f3b14388f46ceaa5fe7b
[14:32] felixge: does this work for you?
[14:32] micheil: yep
[14:32] felixge: design changes? As in API changes?
[14:33] micheil: missed the `mode` defaults to 0666 in Sync
[14:33] micheil: nup, there's a patch for the design of the docs, to add a sidebar
[14:33] micheil: I keep blocking because there's other work and plans
[14:34] Twelve-60 has joined the channel
[14:34] felixge: micheil: I think it's better to be left out, since it's only duplicating the information found 1 line above
[14:34] felixge: micheil: otherwise you'd have to re-document flags again as well
[14:35] micheil: not when you've just jumped to it. Doesn't matter too much in this case
[14:35] ph^ has joined the channel
[14:35] beta_ has joined the channel
[14:36] micheil: felixge: btw, see the pm.
[14:37] snafuz: noob question: im using 0.3.5. how do i write a request header like Content-type: text/xml ? 
[14:37] snafuz: res.Head or res.writeHead, i forgot
[14:37] micheil: snafuz: you should upgrade to 0.4
[14:37] beta_ has joined the channel
[14:38] snafuz: i surely will
[14:38] ceej has joined the channel
[14:38] micheil: res.writeHead or res.sendHead
[14:38] micheil: I think writeHead though, check the docs
[14:38] snafuz: thanks micheil 
[14:39] snafuz: this is in an express app but i guess that doesnt matetr
[14:39] sriley: dont suppose anyknow knows how to get node-crypto working on osx 10.4, seems the version of openssl doesnt contain sha256, i tried manually updating the the latest build of openssl, but still comes back with "node-crypto : Unknown message digest sha256"
[14:39] sriley: doing openssl sha256 foo in term does work
[14:40] aklt: mscdex: Hi there
[14:44] EricL has joined the channel
[14:47] pandeiro has joined the channel
[14:48] margle has left the channel
[14:48] syntheze has left the channel
[14:49] swistak has joined the channel
[14:51] piscisaureus: mraleph: suppose I would port crankshaft to cygwin, would that land in v8?
[14:53] mraleph: piscisaureus: difficult question.
[14:53] aklt: mscdex: I am trying to get the body of a message, setting fetch options to request.body: trye and the others false, but I do not get the message, can you help?
[14:54] piscisaureus: mraleph: hey you're a genius, right? so a difficult question should be within your reach :p
[14:55] Poetro has joined the channel
[14:55] sivy has joined the channel
[14:56] bradleymeck has joined the channel
[14:56] piscisaureus: btw I take no as an anser
[14:56] piscisaureus: *answer
[14:58] bzinger has joined the channel
[14:59] bentruyman has joined the channel
[15:01] jano has joined the channel
[15:02] prinzdezibel has joined the channel
[15:02] mave: 	node.js:68       throw e; // process.nextTick error, or 'error' event on first tick       ^ Error: ECONNRESET, Connection reset by peer     at Socket._readImpl (net.js:142:14)     at Socket._onReadable (net.js:580:22)
[15:02] Me1000 has joined the channel
[15:02] mave: can someone help with this error?
[15:02] mave: dont get it fixed
[15:02] mave: :(
[15:02] G2P has joined the channel
[15:04] ncb000gt: mave: need context to help with that
[15:04] Aikar: mave:happening every time ?
[15:04] charlenopires has joined the channel
[15:04] Aikar: mave: usually means some app killed connection
[15:04] Aikar: on the other end
[15:04] mave: it happens sometimes very often sometimes not
[15:04] Aikar: maybe other end crashed?
[15:05] huned has joined the channel
[15:05] Aikar: what are you connecting to and how
[15:05] Me1000 has joined the channel
[15:05] hellp has joined the channel
[15:06] mave: just doing dataflow betweend flash and php ... requests and responses
[15:06] mave: and node is in the middle
[15:07] mave: ncb000gt what you mean?
[15:07] snafuz: i must be doing something very wrong. can i call res.send() repeatedly? Or should i send the responde all at once?
[15:08] Vertice has joined the channel
[15:09] ncb000gt: mave: can you post a gist with your code? need to know what you're trying to do to make sure it's not a problem on your end. as Aikar mentioned, that usually means that the other end killed your connection (for whatever reason).
[15:10] aheckmann has joined the channel
[15:10] mave: sure
[15:10] mave: mom
[15:10] ncb000gt: snafuz: i believe res.send will set your headers (as best as express knows), send your data, and then end the stream (the response).
[15:11] snafuz: (nevermind. best sent all at once)
[15:11] ncb000gt: :)
[15:11] snafuz: im having probs with writehead though
[15:12] ncb000gt: snafuz: writeHead
[15:12] snafuz: if i leave res.writeHead("Content-type: text/xml"); before my res.send the output ontains spurious characters in the body (which wreck the xml)
[15:12] ncb000gt: snafuz: res.writeHead(<statuscode>, <headers object>);
[15:12] snafuz: ahhh
[15:12] snafuz: my bad, should have checked docs, thanks
[15:12] ncb000gt: headers object should be like {'Content-Type': 'text/xml'}
[15:13] ncb000gt: np
[15:14] NuckingFuts: I'm trying to align some text right in the console, but the escape sequences seem highly innacurate to me... Can somebody tell me why my code caps off at 100?
[15:14] NuckingFuts: var left = this.width() - str.length;
[15:14] NuckingFuts: sys.print( this.coords( ln, left ) + str + this.coords( ln+1, 0 ) );
[15:14] jakehow has joined the channel
[15:14] NuckingFuts: The coords functions provide x, y escape codes
[15:14] herbySk has joined the channel
[15:15] nonnikcam has joined the channel
[15:15] NuckingFuts: And yes, I have switched from sys to utils ;-) It's just easier not to rename all the variable references, ya know?
[15:15] NuckingFuts: piscisaureus: You're working on Windows code, right?  How long until SSL happens on MinGW?  Also, does MinGW have Console Colors?
[15:16] snafuz: ok, now an ugly question: what can i use to access oracle or m$sql dbs?
[15:16] piscisaureus: NuckingFuts: mingw has no console colors currently. Something has been implemented but ryah and I need to settle on an api still
[15:17] NuckingFuts: piscisaureus: Well, I've been using my own lib for console management
[15:17] ncb000gt: snafuz: i'm not sure there are any modules for those dbs.
[15:17] NuckingFuts: It just uses ANSI escape codes :P
[15:17] ncb000gt: snafuz: you could build one based on the ones that exist for mysql i'm sure.
[15:17] piscisaureus: NuckingFuts: no ansi escape codes on windows. ever
[15:17] NuckingFuts: piscisaureus: There are in cygwin lol
[15:17] piscisaureus: I have not eta on SSL. Both jon aslund and I have been able to compile with openssl but it's hard
[15:17] piscisaureus: NuckingFuts: if you want posix, use cygwin
[15:17] snafuz: hate to write this, but a jdbc module would come in handy
[15:18] NuckingFuts: piscisaureus: Ah... Well, hopefully once it's easier, they'll start releasing MinGW binaries on that node-js.prn.co.ccc
[15:18] NuckingFuts: That site is a godsend, since I'm coding for public consumption.
[15:18] ncb000gt: snafuz: heh...jdbc just provides a standard set of api's
[15:18] piscisaureus: NuckingFuts: I may be doing that as well at some point
[15:19] wink_: snafuz: i have a pretty basic odbc (i think what you meant) binding
[15:19] NuckingFuts: piscisaureus: Oooooh!  And you AREN'T russian!?!?!?!?
[15:19] NuckingFuts: Woooooow!
[15:19] wink_: i've used it to connect to mssql / mysql
[15:19] ncb000gt: snafuz: with java that's nearly a requirement for making sure that those tools are pretty interchangeable
[15:20] hoodow has joined the channel
[15:20] NuckingFuts: I'm having trouble building under Cygwin; I'll probably delete my local copy and retry gitting it
[15:20] snafuz: cool, wink
[15:21] NuckingFuts: I may've fucked it up by constantly changing tags lol
[15:21] wink_: snafuz: https://github.com/w1nk/node-odbc
[15:21] wink_: like i said, its still pretty primitive, but it'll connect and query
[15:21] piscisaureus: NuckingFuts just rm -rf build should do
[15:21] NuckingFuts: I think it's understandable to look forward to MinGW's build :P
[15:21] snafuz: thanks, ill be watching it in a sec
[15:21] NuckingFuts: piscisaureus: eh?
[15:21] guid has joined the channel
[15:21] ncb000gt: wink_: throw that up in the npm registry ;D
[15:21] piscisaureus: just remove the build directory instead of checkking out again :-)
[15:21] snafuz: still having problems with headers in this express app, even after changing to res.writeHead(200,{'Content-Type': 'text/xml'});
[15:22] wink_: ncb000gt: i will at some point, it needs some polish first...
[15:22] ncb000gt: wink_: i hear ya.
[15:22] wink_: it at the very least needs some tests :p
[15:22] NuckingFuts: piscisaureus: I'll try it, thanks :P the issue is actually one of the ones listed on the wiki, but the provided solution doesn't work.  It's the one that tells me to set my SHELL var :/
[15:22] ncb000gt: snafuz: can you throw up a gist?
[15:22] NuckingFuts: And the problem is, if I echo $SHELL, it returns /bin/bash
[15:22] sth: Damn it.
[15:22] piscisaureus: *shrug*
[15:22] NuckingFuts: Just as I'd expect
[15:23] NuckingFuts: piscisaureus: I find that I run into the wierdest bugs.
[15:23] ncb000gt: NuckingFuts: that is a problem...should def be /bin/zsh
[15:23] ncb000gt: <.<
[15:23] snafuz: im seriously git impaired, is a pastebin ok?
[15:23] NuckingFuts: ncb000gt: orly?  On Cygwin?  My Shell is bash.
[15:23] ncb000gt: snafuz: aye, just to share :)
[15:23] NuckingFuts: I don't even know what zsh is?
[15:24] ncb000gt: NuckingFuts: Just another kind of shell
[15:24] ncb000gt: NuckingFuts: http://www.zsh.org/
[15:24] NuckingFuts: ncb000gt: Hmmm... I guess I never understood the difference.  I'll try it though, because I'm at a loss now lol
[15:24] Gruni has joined the channel
[15:25] ncb000gt: NuckingFuts: you also might want to look at oh-my-zsh on github for some nice added functionality
[15:25] NuckingFuts: ACTION uses the default terminal in any OS - except in Windows.
[15:25] NuckingFuts: On Windows, I also use Cygwin
[15:26] NuckingFuts: Because Console Colors are win.
[15:26] ncb000gt: NuckingFuts: I had for a long, long time, and then decided to switch to zsh, just for fun, and ended up sticking with it
[15:26] NuckingFuts: And I, being the crazy recluse designer, like console colors lol
[15:26] ncb000gt: :)
[15:26] NuckingFuts: ncb000gt: I assume there's a copy in Cygwin's Setup.xex?
[15:26] NuckingFuts: *exe
[15:26] ncb000gt: I just don't use windows unless i'm gaming.
[15:26] ncb000gt: NuckingFuts: yes
[15:27] NuckingFuts: Holy shit, firefox... over 1.1GB ram, PLUS 1.3GB page file?
[15:27] snafuz: ncb000gt: http://pastebin.com/y1aCrYRt
[15:27] NuckingFuts: Err, commit size
[15:28] zzak has joined the channel
[15:28] yhahn has joined the channel
[15:28] eyesUnclouded has joined the channel
[15:29] Gruni has joined the channel
[15:29] unomi has joined the channel
[15:29] ncb000gt: snafuz: oh yea, sorry. if you have res.writeHead then you can't use res.send
[15:29] ncb000gt: snafuz: however, i just noticed something
[15:29] ncb000gt: snafuz: http://expressjs.com/guide.html#res-send-body-status-headers-status-status-
[15:29] snafuz: thanks
[15:30] huloft: How do you guys recommend keeping a node.js server alive? Especially one being run by spark? Do you run spark with monit? Or with nodemon?
[15:30] ncb000gt: if you use res.send then you can do res.send(<data>, <headers object>, <statuscode>);
[15:30] snafuz: rewriting it now..
[15:31] kristsk: huloft: Fugue seems to be popular
[15:31] ncb000gt: huloft: nodemon seems to be a code reloader
[15:31] snafuz: perfectm thanks ncb000gt 
[15:32] lukegalea: huloft: I use spark2
[15:32] ncb000gt: snafuz: np :)
[15:32] lukegalea: it restarts
[15:32] lukegalea: I guess spark2 itself could die...
[15:32] lukegalea: but short of that, it keeps all the node servers up.
[15:32] kristsk: i ended up writing a custom "leader" for servers
[15:32] huloft: lukegalea: Okay cool, so spark2 monitors the workers it creates and restarts them on process.exit()?
[15:33] kristsk: took some things from fugue
[15:34] paulrobinson has joined the channel
[15:35] huloft: There seem to be tons of solutions for this which is why I'm hesitant
[15:35] snafuz: huloft i have two node.js apps, one monitors connection status and socket response, and the other one watches the processes and their mem usage. and they monitor each other. if anything fails it plays loud mp3s
[15:35] huloft: Like, why is there not a clear winner?
[15:35] snafuz: running on separate machines
[15:35] Andi5 has joined the channel
[15:35] huloft: I've seen Forever, Fugue, Spark/Spark2...
[15:36] postwait has joined the channel
[15:36] dguttman has joined the channel
[15:37] Blink7 has joined the channel
[15:37] ncb000gt: huloft: i'm not sure why there isn't a clear winner, but i'd suspect that there aren't enough people that are vocal about any of them in particular
[15:37] jetienne has left the channel
[15:37] micheil: huloft: what are you doing?
[15:38] ncb000gt: huloft: npm became a clear winner because people were very vocal about how npm did things better
[15:38] paulrobinson has left the channel
[15:38] huloft: ncb000gt: In that case, are none doing things better for maintaining stable node servers?
[15:39] ncb000gt: huloft: i suspect that people just haven't found something that they would say is a clear winner in that set of modules yet
[15:39] huloft: micheil: I'm deploying a server, with a few requirements... multiple node apps on one VPS... multiple workers per app to take advantage of multiple cores... easy deployment
[15:39] ncb000gt: huloft: i'd bet that they all work, but i'm not sure about the differences in how each of them does things
[15:39] micheil: huloft: look at what your server already has
[15:39] huloft: micheil: It mostly needs to 1) support workers, 2) restart workers that die, and 3) be stable itself (so it doesn't die)
[15:40] micheil: if you're on a new ubuntu server, it'll have upstart
[15:40] micheil: which supports that.
[15:40] huloft: micheil: okay great, I've already set it up with upstart
[15:40] huloft: micheil: So in upstart, if I say "start job" and job dies, does upstart restart it?
[15:40] micheil: yes
[15:40] ncb000gt: huloft: we're also using upstart here (my company)
[15:40] micheil: (it's pretty awesome at it too.)
[15:40] huloft: micheil: Okay great... so now, what if I need workers?
[15:41] huloft: micheil: Is spark2 the best solution for that?
[15:41] micheil: well, upstart, from what I can tell can handle the workers
[15:41] micheil: I just don't exactly know how
[15:41] jeromegn has joined the channel
[15:41] micheil: as for multiple http.Server workers, use spark2 I'd say
[15:42] micheil: as for getting your code up to the server, I'm writing a tool for that.
[15:43] huloft: micheil: What confuses me then is stuff like this: http://howtonode.org/deploying-node-upstart-monit
[15:43] huloft: I'm on webbynode, and they clearly followed this guide when building their easy deploy system
[15:43] huloft: And that guide uses both upstart and monit (monitoring via http)
[15:43] huloft: But if upstart can auto recover from a crash, why use monit as well?
[15:43] micheil: if you add the "respawn" keyword into your upstart conf. then it'll auto restart
[15:44] micheil: huloft: monit is good for monitor the memory usage, and forcing a kill
[15:44] micheil: or rather a restart
[15:44] huloft: micheil: I see, so if you have a leak or whatever just restarting once you hit a certain threshold?
[15:45] micheil: yeah
[15:45] huloft: micheil: that's not at all what that blog (or webbynode) is using monit for, but I'll change that.
[15:45] huloft: micheil: I'd be interested in how monit could also spawn workers...
[15:45] micheil: that's how I'm doing things at Votizen, and it works quite nicely
[15:45] huloft: er, not monit, upstart
[15:45] micheil: upstart has something in it that allows it.. not played with it yet though
[15:46] micheil: http://upstart.ubuntu.com/wiki/NamedInstances?highlight=%28%28CategorySpec%29%29
[15:46] huloft: votizen looks good btw
[15:46] huloft: just registered
[15:47] micheil: you're a US citizen?
[15:47] benburkert has joined the channel
[15:48] huloft: yep
[15:48] _sri has joined the channel
[15:48] micheil: sweet, we hope to see you sign up when we launch the full site
[15:50] fatjonny has joined the channel
[15:50] huloft: micheil: So, looking at upstart's docs, I'm thinking since each node process would be running on a different port.. that must be where spark comes in
[15:50] micheil: yeah
[15:50] micheil: huloft: also see the pm
[15:51] micheil: it'll explain some of my rationale
[15:52] jopie has left the channel
[15:52] aabt has joined the channel
[15:53] rudebwoy has joined the channel
[15:54] warz has joined the channel
[15:54] bingomanatee has joined the channel
[15:55] eresair has joined the channel
[15:56] vilsonvieira has joined the channel
[15:57] nook has joined the channel
[15:58] rfay has joined the channel
[15:58] dstik has joined the channel
[16:00] zachsmith has joined the channel
[16:01] rfay: Can anybody tell me what happened to visionmedia/class.js and what the path forward is for Class?
[16:02] vyvea has joined the channel
[16:02] ianward has joined the channel
[16:03] colinclark has joined the channel
[16:06] ajcates has joined the channel
[16:06] Yuffster has joined the channel
[16:08] willwhite has joined the channel
[16:08] phpnode has joined the channel
[16:09] huloft: Okay guys, fugue vs Spark2, any opinions?
[16:09] kwik101 has joined the channel
[16:10] mikeal has joined the channel
[16:11] ajsie has joined the channel
[16:11] slaskis: shouldnt `echo 'console.log("test")' | node` work?
[16:12] Bauerpauer1 has joined the channel
[16:13] jpld has joined the channel
[16:13] jpld has joined the channel
[16:13] arpegius_ has joined the channel
[16:15] mikeal has joined the channel
[16:18] ajsie has left the channel
[16:19] ajsie has joined the channel
[16:20] briznad has joined the channel
[16:21] BillyBreen has joined the channel
[16:24] dguttman has joined the channel
[16:24] softdrink has joined the channel
[16:25] slaskis: how does require() really work? if i have a module name 'common' which has a script in it called 'config' (i.e. common/config.js) shouldn't require("common/config") give me that one?
[16:26] slaskis: it just says that my module cannot be found...
[16:26] arthur_kalm has joined the channel
[16:27] lukegalea: slaskis: require('./common/config')
[16:27] lukegalea: relative paths mean: use system modules, not local to your app.
[16:29] dgathright has joined the channel
[16:30] warz: slaskis, this may be helpful - http://nodejs.org/docs/v0.4.0/api/modules.html
[16:31] warz: describes every way it works
[16:33] samsonjs has joined the channel
[16:34] slaskis: lukegalea: warz thanks guys, the idea was to have that module locally in npm
[16:34] slaskis: and used from a few other modules, rather not have relative paths from them all
[16:35] kiddphunk has joined the channel
[16:35] tjholowaychuk has joined the channel
[16:39] snafuz: anyone know how to do a mysql_insert_id() with Node-mysql-libmysqlclient ?
[16:40] sprout has joined the channel
[16:40] eresair has joined the channel
[16:43] jlecker has joined the channel
[16:43] noahcampbell has joined the channel
[16:44] slaskis: ah, it works now, just my npm install used a cached version
[16:44] pauls has joined the channel
[16:45] hornairs has joined the channel
[16:46] arpegius has joined the channel
[16:46] kiddphunk has joined the channel
[16:47] xla has joined the channel
[16:48] jakehow has joined the channel
[16:49] vipaca has joined the channel
[16:49] vipaca has joined the channel
[16:52] ryanfitz has joined the channel
[16:53] ncb000gt_ has joined the channel
[16:54] nmtmason has joined the channel
[16:54] slaskis: hmm no, it didn't work
[16:54] sprout has joined the channel
[16:54] slaskis: i was just in that directory already. damnit
[16:55] micheil: ryah: you there?
[16:55] micheil: ryah: got something awesome coming for docs.
[16:56] robotarmy has joined the channel
[16:56] rpflo has joined the channel
[16:56] jacksonmills has joined the channel
[16:57] RobertLJ has joined the channel
[16:58] gJ|Alex has joined the channel
[17:00] daniellindsley has joined the channel
[17:00] aro has joined the channel
[17:01] lakin has joined the channel
[17:02] bmavity has joined the channel
[17:03] jklabo has joined the channel
[17:04] dspree has joined the channel
[17:04] dspree has joined the channel
[17:05] aro has joined the channel
[17:05] dgathright has joined the channel
[17:05] prinzdezibel has joined the channel
[17:06] bronson has joined the channel
[17:06] bmavity: mornin' fellow noders
[17:07] tjholowaychuk: morning
[17:07] piscisaureus has joined the channel
[17:08] creationix has joined the channel
[17:09] zzak: bmavity++
[17:09] v8bot:  zzak has given a beer to bmavity. bmavity now has 1 beers.
[17:10] ajnasz has joined the channel
[17:12] astoon has joined the channel
[17:13] stephank has joined the channel
[17:13] bentruyman has joined the channel
[17:13] nonnikcam has joined the channel
[17:14] hij1nx has joined the channel
[17:14] josephhitchens has joined the channel
[17:15] ph^ has joined the channel
[17:15] heavysixer has joined the channel
[17:17] deepthawtz has joined the channel
[17:18] Sami_ZzZ has joined the channel
[17:19] strmpnk has joined the channel
[17:21] broofa has joined the channel
[17:22] rpflo has joined the channel
[17:22] zomgbie has joined the channel
[17:25] possibilities has joined the channel
[17:26] qFox has joined the channel
[17:26] node-faq has joined the channel
[17:28] mattly has joined the channel
[17:28] rafacv has joined the channel
[17:28] sonnym has joined the channel
[17:29] kwik101 has joined the channel
[17:30] rafacv has joined the channel
[17:31] amacleod has joined the channel
[17:31] strmpnk has joined the channel
[17:32] srid has joined the channel
[17:32] srid has joined the channel
[17:34] zylo has joined the channel
[17:34] springmeyer has joined the channel
[17:35] creationix has joined the channel
[17:35] perezd has joined the channel
[17:35] Me1000 has joined the channel
[17:35] sprout has joined the channel
[17:36] hwinkel has joined the channel
[17:36] creationix has left the channel
[17:36] sebastiandeutsch has joined the channel
[17:37] snafuz: is there some sort of module that handles locking? i need to make sure some queries are run atomically
[17:37] micheil: tjholowaychuk: I think I sorted it.
[17:37] micheil: see pm.
[17:38] dgathright has joined the channel
[17:38] _figital has joined the channel
[17:39] sholmes has joined the channel
[17:40] tfe_ has joined the channel
[17:41] sholmes: "Error: session() middleware requires the "secret" option string for security" Wha?
[17:41] tjholowaychuk: sholmes: session({ secret: 'foo' })
[17:42] Metapony has joined the channel
[17:42] sriley has joined the channel
[17:42] tjholowaychuk: sholmes: the secret is used in the hashing algo
[17:42] tjholowaychuk: so best not to leave it out lol
[17:42] tjholowaychuk: it used to be optional
[17:42] tjholowaychuk: clearly no one was using it haha
[17:42] sholmes: tj, I did that then I was getting this "ReferenceError: module is not defined"
[17:42] papyromancer has joined the channel
[17:43] tjholowaychuk: hm
[17:43] isaacs has joined the channel
[17:43] sholmes: Odd, cause I did exactly that session({ secret: 'foo' }), character for character. :P
[17:43] tjholowaychuk: well connect.session()
[17:44] tjholowaychuk: or express.session()
[17:44] tjholowaychuk: if you are using express
[17:44] tjholowaychuk: same thing
[17:44] sholmes: I did express
[17:44] sholmes: connect is defined. But when I use express I get the error
[17:44] sholmes: let me paste the whole error
[17:45] x_or has joined the channel
[17:45] sholmes: http://pastie.org/1567201
[17:46] sholmes: there's no mention of a secret on the connect website http://senchalabs.github.com/connect/session.html
[17:47] x_or: tjholowaychuk:  You maintain connect, right?  I am finding that this no longer works with the latest from npm.  var MemoryStore = require('connect/middleware/session/memory');
[17:47] x_or: But, this does:  var MemoryStore = require('connect/connect/middleware/session/memory');
[17:47] isaacs: x_or, tjholowaychuk: as has been warned, require()ing into the lib dir does not work.
[17:48] amerine has joined the channel
[17:48] isaacs: x_or, tjholowaychuk: in npm 0.3, it'll be require('connect/lib/connect/middleware/session/memory')
[17:48] x_or: isaacs:  OK, probably just means the docs need to be updated.  So, this is really an npm change then, not a connect change?
[17:49] isaacs: x_or: yeah.  it's one that i warned about a month-ish ago.
[17:49] isaacs: x_or: my sense of time is a bit screwey
[17:49] x_or: Cool.  
[17:49] isaacs: maybe weeks?  i dunno.  not long, but long enough, i think
[17:49] augustl: brianc: np
[17:49] arpegius has joined the channel
[17:50] augustl: anyone got some mongodb adapters to recommend?
[17:50] kal-EL__ has joined the channel
[17:50] elliottc1ble has joined the channel
[17:51] jacksonmills: MONGODBS
[17:51] sholmes: I installed sesame and that even gives the same error. :(
[17:51] Connorhd_ has joined the channel
[17:52] augustl: jacksonmills: in UPPERCASE? =D YEAH!
[17:52] jacksonmills: its the new version dude
[17:52] papyromancer has joined the channel
[17:52] jacksonmills: sooo wicket
[17:52] mischievious has joined the channel
[17:52] jacksonmills: it scales more than you even know
[17:52] jacksonmills: 4x the scales
[17:52] zhware_ has joined the channel
[17:52] x_or: isaacs:  Since I have you on the hook is there a way I can specify a list of modules in a file and then load them all via npm?  Kind of like a Gemfile for Ruby?
[17:52] jacksonmills: uhm
[17:52] augustl: jacksonmills: scales nom om
[17:53] isaacs: x_or: create a package.json
[17:53] jacksonmills: ok to be serious
[17:53] jacksonmills: there are a few modules that i know of that do both mongodb and rbdms
[17:53] jacksonmills: and i say.... why not?
[17:53] jacksonmills: go with those
[17:53] ysynopsi1 has joined the channel
[17:53] btipling_ has joined the channel
[17:53] jacksonmills: let me search my bookmarks bar
[17:53] mischievious has joined the channel
[17:53] jacksonmills: i dunno if i can recommend it though ;)
[17:53] x_or: isaacs:  Doh, that is simple enough.  Thanks.
[17:53] isaacs: x_or: seriously, it's best to just create a package.json for your project, and then either `npm link` or `npm bundle` in it.
[17:53] jacksonmills: i found it, i never used it
[17:54] augustl: then my googling will be just as useful ;)
[17:54] isaacs: x_or: npm help json will tell you all about it :)
[17:54] jacksonmills: hahaha ok cool
[17:54] augustl: was hoping someone had experience using some and wanted to share some love
[17:54] bengl has joined the channel
[17:54] jacksonmills: this whole node.js thing is pretty new
[17:54] jacksonmills: soo... i dunno i suspect many things are at about the same level of bakedness
[17:55] jspiros_ has joined the channel
[17:55] augustl: ugh there's a zillion libraries
[17:55] mischievious has joined the channel
[17:55] jacksonmills: yeah ;)
[17:55] PrgmrBil1 has joined the channel
[17:55] augustl: guess I'll just go with the first one that has a test/ folder
[17:55] jacksonmills: hahaha not a bad call
[17:55] jacksonmills: make sure there are files in that folder
[17:55] jacksonmills: ;)
[17:55] jmmills_ has joined the channel
[17:55] squeeks: it'd be nice if more things on npm followed some sort of consistency.
[17:55] franck34_ has joined the channel
[17:56] Stephen___ has joined the channel
[17:56] isaacs: squeeks: i agree, but probably disagree with your next thought..
[17:56] jacksonmills: really what needs to happen is a node.js conference
[17:56] jacksonmills: net split!
[17:56] isaacs: wowzers, that one was big
[17:56] squeeks: isaacs: my next thought is "pepperoni or supreme?" how can anyone disagree to that?
[17:57] bsdguru: ha
[17:57] jacksonmills: uhm...
[17:57] mr_daniel has joined the channel
[17:57] jacksonmills: both
[17:57] jacksonmills: can i get half pepperoni
[17:57] jacksonmills: and half supreme
[17:57] liar has joined the channel
[17:58] steffkes has joined the channel
[17:58] clarkfischer has joined the channel
[17:58] [[zzz]] has joined the channel
[17:59] sholmes: anyone know what this error means? http://pastie.org/1567201
[17:59] aguynamedben has joined the channel
[17:59] zined has joined the channel
[17:59] PrgmrBill has joined the channel
[18:00] walkah_ has joined the channel
[18:00] pekim has joined the channel
[18:00] roger_ra1mond has joined the channel
[18:00] nmtmason has joined the channel
[18:00] konobi_ has joined the channel
[18:00] termie has joined the channel
[18:01] augustl: sholmes: what's the code?
[18:01] joelperras has joined the channel
[18:01] sholmes: augustl: http://pastie.org/1567254
[18:01] isaacs: squeeks: heh
[18:02] kjeldahl has joined the channel
[18:02] isaacs: squeeks: what i mean is, it'd be cool to see some consistency come out naturally without being forced, because it would be a good indicator of stability and understanding in our community
[18:02] isaacs: squeeks: but, i mean, "how to write a node program" is not a very well understood problem.
[18:02] dgathright has joined the channel
[18:03] sholmes: This error doesn't exist when I remove line 15
[18:03] squeeks: forcing it is one thing, actively encouraging it and providing some Fine Manual to Read would also help. There is no "best way to structure a npm package" out there that I could find easily.
[18:03] sholmes: for some reason the middleware is interfering or something
[18:03] augustl: sholmes: ok so it's something in sesame then.
[18:03] isaacs: sholmes: does require('sesame') work?
[18:03] sholmes: lemme check
[18:03] Aikar: jacksonmills: they hold quite a few conferences in cali i believe
[18:03] jacksonmills: wish they had one or two in NY
[18:04] Aikar: i think i know of 2 thats happened recently, they sell out fast
[18:04] isaacs: sholmes: actually, more specifically, what's the error?
[18:04] isaacs: squeeks: i'm actually almost done with a wiki page like that.
[18:04] nejucomo has joined the channel
[18:04] jetienne has joined the channel
[18:04] Aikar: my local JS meetup is having a talk on Node Testing frameworks next month
[18:04] sholmes: isaacs: http://pastie.org/1567201
[18:04] squeeks: isaacs: for pure JS stuff? I guess one of the coffeescripters should also do something up.
[18:04] jacksonmills: Aikar: in NY?
[18:05] jetienne: instanceof/typeof are so broken
[18:05] Aikar: jacksonmills: find your local JS meetup on meetup.com and see if they talk node, if not, get them to :P
[18:05] keeto has joined the channel
[18:05] Aikar: nah mines NC
[18:05] Nevtus has joined the channel
[18:05] micxer has joined the channel
[18:05] narph has joined the channel
[18:05] tjgillies_ has joined the channel
[18:05] petermanser_ has joined the channel
[18:05] Beretta_V has joined the channel
[18:05] nail__ has joined the channel
[18:05] sadiq has joined the channel
[18:05] loktar has joined the channel
[18:05] deoxxa has joined the channel
[18:05] lukes has joined the channel
[18:05] sr has joined the channel
[18:05] wink_ has joined the channel
[18:05] sstreza has joined the channel
[18:05] Ezku\ has joined the channel
[18:05] rjbs has joined the channel
[18:05] slaskis has joined the channel
[18:05] Tobias| has joined the channel
[18:05] sid3k has joined the channel
[18:05] gaYak has joined the channel
[18:05] sandymahalo has joined the channel
[18:05] sugyan has joined the channel
[18:05] voodootikigod has joined the channel
[18:05] dabailey has joined the channel
[18:05] EdJ has joined the channel
[18:05] Aikar: jetienne: why do you say that? if its broken recompile your stuff
[18:05] yozgrahame has joined the channel
[18:05] sholmes: require('sesame') seems to be working.
[18:06] andrewfff has joined the channel
[18:06] MikeMakesIt has joined the channel
[18:06] hwinkel has joined the channel
[18:06] sprout has joined the channel
[18:06] daniellindsley has joined the channel
[18:06] softdrink has joined the channel
[18:06] boaz has joined the channel
[18:06] fermion has joined the channel
[18:06] altamic has joined the channel
[18:06] Jaye_ has joined the channel
[18:06] razvandimescu has joined the channel
[18:06] w0rse_ has joined the channel
[18:06] mnot has joined the channel
[18:06] naneau has joined the channel
[18:06] nefD has joined the channel
[18:06] mlins has joined the channel
[18:06] micheil has joined the channel
[18:06] RushPL has joined the channel
[18:06] steadicat has joined the channel
[18:06] MaSch has joined the channel
[18:06] Aikar: i feel bad for people who dont have decent IRC clients and get flooded with joins and parts for netsplits
[18:06] yx has joined the channel
[18:06] Dreamer3 has joined the channel
[18:06] gmci has joined the channel
[18:06] ivan has joined the channel
[18:06] justin____ has joined the channel
[18:06] joeshaw___ has joined the channel
[18:06] CIA-39 has joined the channel
[18:06] sstephenson has joined the channel
[18:06] tswicegood has joined the channel
[18:06] freeformz has joined the channel
[18:06] gbot2 has joined the channel
[18:06] tsyd has joined the channel
[18:06] pkrumins has joined the channel
[18:06] er1c_ has joined the channel
[18:06] L_star has joined the channel
[18:06] FMJag has joined the channel
[18:06] ollie has joined the channel
[18:06] jtrally has joined the channel
[18:06] ybit has joined the channel
[18:07] jetienne: Aikar: ... just me ranting... instanceof/typeof are bad in js in general. not broken in v8 implementation
[18:07] brian_irish has joined the channel
[18:07] pdelgallego has joined the channel
[18:07] pl-6 has joined the channel
[18:07] Aikar: jetienne: why do you say that? they serve a required purpose
[18:07] Aikar: w/o them, code would be horrible
[18:07] danielzilla has joined the channel
[18:07] jacksonmills: jetienne: you really do have to frame that statement in context
[18:07] jacksonmills: jetienne: because its not always true
[18:07] jan____ has joined the channel
[18:08] jetienne: well how do you test a var is an array ? 
[18:08] gf3 has joined the channel
[18:08] jetienne: typeof cant do it. only instanceof can
[18:08] sstephenson has joined the channel
[18:09] sholmes: any ideas anyone?
[18:09] dustinwhittle has joined the channel
[18:09] sholmes: Does the code I pasted work for you?
[18:10] shachaf has joined the channel
[18:10] polyrhythmic has joined the channel
[18:10] Sebmaster has joined the channel
[18:10] Poetro has joined the channel
[18:10] davidascher has joined the channel
[18:10] ncb000gt has joined the channel
[18:10] dnolen_ has joined the channel
[18:10] ryah has joined the channel
[18:10] Coal has joined the channel
[18:10] bradleymeck_ has joined the channel
[18:10] sonnym has joined the channel
[18:10] deepthawtz has joined the channel
[18:10] bmavity has joined the channel
[18:10] vipaca has joined the channel
[18:10] tjholowaychuk has joined the channel
[18:10] samsonjs has joined the channel
[18:10] arthur_kalm has joined the channel
[18:10] briznad has joined the channel
[18:10] ajcates has joined the channel
[18:10] vyvea has joined the channel
[18:10] benburkert has joined the channel
[18:10] hoodoos has joined the channel
[18:10] bx2 has joined the channel
[18:10] Jonasbn_ has joined the channel
[18:10] d0k has joined the channel
[18:10] case__ has joined the channel
[18:10] adambeynon has joined the channel
[18:10] jimt has joined the channel
[18:10] mlangenberg has joined the channel
[18:10] comster has joined the channel
[18:10] Zenith77 has joined the channel
[18:10] devdazed has joined the channel
[18:10] superdug has joined the channel
[18:10] halfhalo has joined the channel
[18:10] marienz has joined the channel
[18:10] zmack has joined the channel
[18:10] joshthecoder has joined the channel
[18:10] marcab has joined the channel
[18:10] rednul has joined the channel
[18:10] shaver has joined the channel
[18:10] russell_h has joined the channel
[18:10] admc has joined the channel
[18:10] gf3 has joined the channel
[18:10] unomi has joined the channel
[18:10] mrkurt_ has joined the channel
[18:10] jetienne: sholmes: module is a global object in node http://nodejs.org/docs/v0.4.0/api/globals.html#module
[18:10] jetienne: sholmes: having module undefined is strange at best
[18:10] brapse has joined the channel
[18:11] sholmes: jetienne: so what gives?
[18:11] w0rse has joined the channel
[18:11] patcito has joined the channel
[18:12] adamholt has joined the channel
[18:12] roger_raymond has joined the channel
[18:12] clarkfischer: Is there some reason why every time I run npm outdated/npm update, about 25% of my installed packages arbitrarily give me errors when connecting to the registry? 
[18:13] Prometheus has joined the channel
[18:13] jetienne: sholmes: no idea but weird
[18:13] shachaf has joined the channel
[18:13] ncb000gt has joined the channel
[18:13] sholmes: maybe it's a bug?
[18:13] sholmes: how can I do a trace or something
[18:14] jetienne: sholmes: yep but more in the code you use than in node itself
[18:14] Sami_ZzZ has joined the channel
[18:14] sholmes: or a break on error with somekind of debugger?
[18:14] jetienne: sholmes: show that to express people, they may know more
[18:14] sholmes: jetienne: what would I be doing that's so off?
[18:14] sholmes: I showed it to js and isaacs.
[18:14] jetienne: sholmes: no idea, i dont use express
[18:15] Zenith77 has joined the channel
[18:15] adnam has joined the channel
[18:16] SvenDowideit has joined the channel
[18:16] strmpnk has joined the channel
[18:17] sholmes: jetienne: do you use node-inspector?
[18:17] joshfng has joined the channel
[18:17] polyrhythmic has joined the channel
[18:17] andrewfff has joined the channel
[18:17] MikeMakesIt has joined the channel
[18:18] hoodoos has joined the channel
[18:18] jetienne: sholmes: i dont use it either :)
[18:19] sholmes: well, whoever uses node-inspector, could you please tell me how I can stop execution on an error?
[18:19] marienz has joined the channel
[18:19] d0k has joined the channel
[18:19] [[zz]] has joined the channel
[18:19] fatjonny has joined the channel
[18:20] jetienne: http://www.youtube.com/watch?v=AOnK3NVnxL8 if nobody answers, this video may help
[18:20] mjr_ has joined the channel
[18:20] saikat has joined the channel
[18:21] ziro` has joined the channel
[18:22] dguttman has joined the channel
[18:22] tc77 has joined the channel
[18:22] slickplaid has joined the channel
[18:22] b5avage has joined the channel
[18:22] Sebmaster has joined the channel
[18:22] dnolen_ has joined the channel
[18:22] bradleymeck_ has joined the channel
[18:22] sonnym has joined the channel
[18:22] deepthawtz has joined the channel
[18:22] bmavity has joined the channel
[18:22] tjholowaychuk has joined the channel
[18:22] samsonjs has joined the channel
[18:22] arthur_kalm has joined the channel
[18:22] bx2 has joined the channel
[18:22] adambeynon has joined the channel
[18:22] devdazed has joined the channel
[18:22] halfhalo has joined the channel
[18:22] zmack has joined the channel
[18:22] marcab has joined the channel
[18:22] shaver has joined the channel
[18:22] russell_h has joined the channel
[18:22] rednul has joined the channel
[18:22] jimt has joined the channel
[18:23] bengl has joined the channel
[18:23] muk_mb has joined the channel
[18:24] mjijackson has joined the channel
[18:24] hornairs has joined the channel
[18:25] nonnikcam has joined the channel
[18:25] sonnym1 has joined the channel
[18:26] briznad has joined the channel
[18:26] slickplaid has joined the channel
[18:26] isaacs: clarkfischer: gist the output?
[18:27] joshthecoder has joined the channel
[18:27] benburkert has joined the channel
[18:27] clarkfischer: okay
[18:27] isaacs: sholmes: hey
[18:27] w0rse has joined the channel
[18:27] isaacs: sholmes: sorry, your question got buried in the netsplits.
[18:28] isaacs: sholmes: what's this about "module" being undefined?  it should be a free variable.  if you do `var module` in your module, then of course that'll overwrite it, though
[18:28] rafacv has joined the channel
[18:28] hunterloftis has joined the channel
[18:28] micheil: isaacs: any idea if sh1mmer will be in office today?
[18:29] zmack has joined the channel
[18:29] clarkfischer: isaacs, https://gist.github.com/827964
[18:30] Imperion has joined the channel
[18:30] clarkfischer: hmmmm......
[18:30] Imperion: isaacs: ping, again
[18:30] clarkfischer: that's only true if I use 0.3.7...in 0.4.0 it all works fine.
[18:30] mikedeboer has joined the channel
[18:31] isaacs: clarkfischer: oh, ok.  try using either 0.3.8 or 0.4.0
[18:31] trotter has joined the channel
[18:31] isaacs: clarkfischer: there was some breakage in the http api in 0.3.7
[18:31] adambeynon has joined the channel
[18:31] isaacs: stable api ftw!
[18:31] clarkfischer: ah
[18:31] Imperion: isaacs: http://codepad.org/BZtr3QjO
[18:31] isaacs: Imperion: i don't know what etsy is
[18:31] Imperion: it's the module I've written
[18:31] isaacs: Imperion: ok.
[18:32] Imperion: I'm trying to test it with link
[18:32] isaacs: Imperion: ok
[18:32] Imperion: as you can see, something went wrong
[18:32] dgathright has joined the channel
[18:32] Imperion: any idea how to fix this?
[18:32] isaacs: Imperion: sure.  what operating system, where's the code, yadda yadda
[18:32] isaacs: what else can you tell me about it?
[18:32] isaacs: did `npm link` actually work?
[18:32] Imperion: Linux, code is local
[18:32] Imperion: yes
[18:32] isaacs: what's your package.json file look like?
[18:32] langworthy has joined the channel
[18:33] isaacs: what version of npm did you use to install it?
[18:33] fission6 has joined the channel
[18:33] isaacs: ACTION rapid fire questions!
[18:33] Imperion: isaacs: http://codepad.org/zbwKTqOV
[18:33] fission6: is there any module out there that can do multiple https requests and manage cookies etc
[18:33] Imperion: isaacs: npm info using npm@0.2.18
[18:33] isaacs: aha, ok.  so... don't do modules:{...}.  do "main":"./lib/etsy.js"
[18:34] isaacs: Imperion: also, your "files" array only has one thing in it.  don't do that.  everything is included by default, so you only have to do that if you want to include specific things.  but you're not including your module.
[18:34] isaacs: or, probably, anything it require()s
[18:34] isaacs: i'd just drop the "files" array
[18:34] tjholowaychuk has joined the channel
[18:35] Imperion: isaacs: Error: ENOENT, No such file or directory './methods.json'
[18:35] Imperion: er
[18:35] devdazed has joined the channel
[18:35] Imperion: how exactly am I supposed to reference my files, again?
[18:35] isaacs: Imperion: so, also, all of this is basically just guessing, since i don't know how the code is structured, or how it's working.
[18:35] slicky has joined the channel
[18:35] isaacs: Imperion: use a relative path
[18:35] sholmes: isaacs: I was afk. Thanks for not letting my question get burried. ;)
[18:35] fission6: does http maintain cookies
[18:36] isaacs: Imperion: so, if you had lib/foo/bar.js and it wants to access lib/baz.json, it'd be ../baz.json
[18:36] sholmes: here's the script http://pastie.org/1567254
[18:36] sholmes: here's the error
[18:36] sholmes: http://pastie.org/1567201
[18:36] Imperion: isaacs: uh, but this is a relative path: MethodTable = (JSON.parse(require('fs').readFileSync('./methods.json'))).results;
[18:36] sholmes: when I remove line 15 from the script everything works fine.
[18:36] mikeal has joined the channel
[18:36] Imperion: it's lib/methods.json
[18:36] benburkert has joined the channel
[18:36] isaacs: sholmes: oh, ok. seems like an issue with sesame, most likely, then.
[18:36] sholmes: line 15 is where I include sesame or express.session
[18:37] isaacs: sholmes: `npm owner ls sesame`
[18:37] mike5w3c_ has joined the channel
[18:37] kiddphunk has joined the channel
[18:37] ircretary has joined the channel
[18:38] sholmes: isaacs: npm info it worked if it ends with ok
[18:38] sholmes: npm info using npm@0.2.12-1
[18:38] sholmes: npm info using node@v0.4.0
[18:38] sholmes: substack <mail@substack.net>
[18:38] sholmes: npm ok
[18:38] isaacs: ircretary: hello
[18:38] ircretary: isaacs: Hello :)
[18:38] isaacs: sholmes: yeah, so... talk to substack <mail@substack.net>
[18:38] isaacs: sholmes: :)
[18:38] sholmes: I'm sure SubStack is here.
[18:38] Imperion: isaacs: <Imperion> it's lib/methods.json
[18:38] sholmes: but it has this error even with express.session middleware
[18:38] arthur_kalm has left the channel
[18:38] Imperion: isaacs: and it's referred to as './methods.json'
[18:39] ncb000gt: fission6: do you mean the http module?
[18:39] isaacs: Imperion: maybe try path.resolve(__dirname, './methods.json')
[18:39] jpick has joined the channel
[18:39] fission6: can that maintain cookies and such
[18:39] jano has joined the channel
[18:39] Poetro1 has joined the channel
[18:39] isaacs: fission6: it does not maintain any sort of cookie jar.
[18:39] fission6: ok
[18:39] fission6: is there a module that does
[18:39] isaacs: fission6: that's a much higher-level problem than node's http client is concerned with.
[18:39] ncb000gt: fission6: the http module doesn't have any notion of sessions so no
[18:39] tjholowaychuk: sholmes: express.session seems fine for myself and everyone else AFAIK
[18:39] fission6: ok is there a module that does?
[18:39] ncb000gt: fission6: you could use something like express
[18:40] sholmes: tjholowaychuk: could it be cygwin?
[18:40] briznad has joined the channel
[18:40] fission6: inw hat regard
[18:40] isaacs: fission6: npm ls cookie -s
[18:40] ncb000gt: isaacs: <3 npm
[18:40] isaacs: fission6: that should show you some options :)
[18:40] sholmes: are there any known errors with cygwin/windows?
[18:40] tjholowaychuk: sholmes: probably
[18:40] fission6: ok
[18:40] tjholowaychuk: windows sucks
[18:40] sholmes: I should try hosting this code on my VPS
[18:40] tjholowaychuk: so that is a possibility
[18:40] confoocious has joined the channel
[18:40] confoocious has joined the channel
[18:41] Imperion: isaacs: all I needed was __dirname + '/methods.json'
[18:41] ossareh has joined the channel
[18:41] mattly has joined the channel
[18:42] sholmes: where's a good place in the linux filesystem to host my node stuff?
[18:42] sholmes: I host php/apache stuff under /var/ww
[18:42] sholmes: var/www
[18:42] jacksonmills: sholmes that works
[18:43] jacksonmills: my answer to that question is 'whatever i can remember, and makes sense'
[18:43] sholmes: jacksonmills: but my site is already hosted there.
[18:43] aguynamedben_ has joined the channel
[18:43] jpick has left the channel
[18:43] sholmes: /var/node, would that conflict with anything? I'm asking if it matters at all?
[18:43] arnorhs: /var/node sounds like a decent place
[18:44] arnorhs: i place all my node stuff in ~/proj
[18:44] benburkert has joined the channel
[18:44] sholmes: arnorhs: why the home dir?
[18:45] arnorhs: it's the shortest number of keys to type
[18:45] arnorhs: smallest number sorry :)
[18:45] adnam has left the channel
[18:46] arnorhs: but I'm not running any production stuff in node :)
[18:46] eee_c has joined the channel
[18:46] keeto has joined the channel
[18:46] sholmes: arnorhs: I get it. Hmm. /root/project
[18:46] arnorhs: lol
[18:46] jan____ has joined the channel
[18:47] unomi has joined the channel
[18:47] unomi has joined the channel
[18:47] sholmes: so /var is for anything I want right?
[18:47] sholmes: I g2g get something to eat.
[18:47] muk_mb has joined the channel
[18:47] sholmes: I'll figure some dir out
[18:47] sholmes: later fellas
[18:47] sholmes has left the channel
[18:48] arnorhs: yes
[18:48] Druide_ has joined the channel
[18:48] arnorhs: now I just wait for Watson to arrive
[18:48] arnorhs: and finish his sentances
[18:48] losing has joined the channel
[18:49] muk_mb has joined the channel
[18:50] dguttman has joined the channel
[18:50] eyesUnclouded has joined the channel
[18:51] dgathright has joined the channel
[18:52] Country has joined the channel
[18:53] MikhX has joined the channel
[18:53] PrgmrBill has joined the channel
[18:53] konobi: https://github.com/rmustacc/node-ctype
[18:53] PrgmrBill has joined the channel
[18:54] shaver has joined the channel
[18:54] halfhalo has joined the channel
[18:54] rednul has joined the channel
[18:54] marcab has joined the channel
[18:55] russell_h has joined the channel
[18:55] tjholowaychuk has joined the channel
[18:55] samsonjs_ has joined the channel
[18:55] b5avage has joined the channel
[18:55] swistak has joined the channel
[18:56] vnguyen has joined the channel
[18:57] halfhalo has joined the channel
[18:57] eee_c has joined the channel
[18:58] amerine has joined the channel
[18:58] b5avage has left the channel
[19:02] bx2 has joined the channel
[19:02] tlrobinson_ has joined the channel
[19:03] jamund has joined the channel
[19:03] andrewfff has joined the channel
[19:03] MikeMakesIt has joined the channel
[19:03] colinclark has joined the channel
[19:05] balaa has joined the channel
[19:08] ryanfitz has joined the channel
[19:10] tjholowaychuk: isaacs: https://github.com/ry/node/pull/674/files
[19:10] chapel: http://people.mozilla.com/~prouget/ie9/
[19:11] augustl: is the "listen" function on net and http servers synchronous? As in, can I immediately start opening connections to it on the next line?
[19:11] mikeal: ryah: you say you're done speaking at stuff and then I see that you're speaking at a PHP meetup
[19:11] mikeal: :)
[19:12] wink_: augustl: http://nodejs.org/docs/v0.4.0/api/net.html#server.listen
[19:12] augustl: listen has a callback.. Doh :)
[19:12] Poetro has joined the channel
[19:12] wink_: :)
[19:13] jherdman has joined the channel
[19:13] springify has joined the channel
[19:14] maushu has joined the channel
[19:15] Sebmaster has joined the channel
[19:15] nofxx: So ruby has gems, python has eggs, node ? I friend suggested nodules
[19:15] mikeal: i think there is also an event that corresponds to the server finishing bind
[19:15] mikeal: nofxx: node has tarballs :)
[19:15] mikeal: and npm to install them
[19:16] tbassetto has joined the channel
[19:16] mikeal: eggs and gems are a painful abortion
[19:16] cwo has joined the channel
[19:16] nofxx: mikeal: hehe, but it's too generic.... and just terminology ;)
[19:16] mikeal: eggs are actually oddly packaged zip files
[19:17] mikeal: sometimes with precompiled bits in them and shims
[19:17] mikeal: one of the goals of npm is to create node packages that you can use and install without npm
[19:17] mikeal: which is why it just creates vanilla tarballs
[19:18] mikeal: it does more and emit certain parts depending on your package.json
[19:18] Aikar: yep... I wrote my own installer for the npm registry as a quick hack before the new node_modules and new npm upgrades came
[19:19] modular has joined the channel
[19:19] nofxx: mikeal: I agree. Good design. Not that gems are difficult to unzip either, but like einstein said, think should be simple as possible, but not simpler
[19:20] nofxx: things* ... ( I'm awaking ... sorry typos )
[19:20] augustl: any nodeunit users around? I want to pass a node-postgres connection to my test suite, and hook into setUp/tearDown of all tests. Doable?
[19:20] Aikar: nofxx: your just asking for a special buzzword to call em
[19:21] Aikar: why do we need a buzzword, 'npm install xxx' is as simple as it can get
[19:21] samsonjs has joined the channel
[19:21] nejucomo has joined the channel
[19:22] jherdman has joined the channel
[19:22] fission6: anyone here a big user of jsdom
[19:25] nofxx has joined the channel
[19:26] herbySk has joined the channel
[19:27] admc has joined the channel
[19:27] tilgovi has joined the channel
[19:27] mikeal: i'm sick of talking about EventEmitter.once
[19:27] mikeal: i actually don't care
[19:28] slickplaid has joined the channel
[19:28] tilgovi: mikeal: I know this totally goes against what you *just* said... but I just got here. What about em?
[19:28] mikeal: haha
[19:29] mikeal: it's a thread on the list about what .once should return
[19:29] tilgovi: oh
[19:29] tilgovi: I wonder what could possibly be an answer other than "what emit returns"
[19:29] tilgovi: ACTION goes to check
[19:29] tilgovi: err, not emit
[19:29] tilgovi: on
[19:30] mikeal: well
[19:30] mikeal: it might be more useful to return the function it adds as a listener
[19:30] mikeal: since it's not the function you passed
[19:30] Imperion: isaacs: erm, one final thing
[19:30] mikeal: it would make removeing it easier
[19:30] Imperion: isaacs: how can I publish if node is in a root-only-writable dir?
[19:31] mjr_ has joined the channel
[19:32] mjr_: I only just barely read the mailing list(s) now.
[19:32] mjr_: I used to read nearly every single message.
[19:32] Utkarsh__ has joined the channel
[19:33] Imperion: isaacs: nvm
[19:33] aklt has joined the channel
[19:33] Imperion: TA-DA: https://github.com/Imperion/node-etsy
[19:33] Silks has joined the channel
[19:33] mikeal: mjr_: i've gotten really good at ignoring some threads
[19:34] andrewfff has joined the channel
[19:34] MikeMakesIt has joined the channel
[19:34] tilgovi: mikeal: I can't even find the thread
[19:34] tilgovi: but I have a strong opinion for not returning the callback
[19:34] zomgbie has joined the channel
[19:34] mikeal: haha
[19:35] mikeal: it shouldn't return the event emitter
[19:35] tilgovi: emitter.removeListener already exists. have it keep the original callback as metadata if we need to be able to remove it that way.
[19:35] mikeal: i don't want chaining to start to take over the node core api
[19:35] tilgovi: it should *definitely* return the event emitter
[19:35] brianc: augustl: can't help you with that one, never used nodeunit
[19:35] tilgovi: dude. don't fight monads.
[19:35] mikeal: tilgovi: you can't use removeListener unless you have the callback
[19:35] tilgovi: if you need the callback, declare it before you pass it.
[19:35] mikeal: and with .once the listerner you pass in is not the listenere that you need to remove
[19:35] Utkarsh has joined the channel
[19:36] mikeal: tilgovi: once creates a closure around the callback you pass in
[19:36] tilgovi: that's implementation detail the emitter should wrap
[19:36] mikeal: so you don't have it
[19:36] tilgovi: remove should still work
[19:36] ncb000gt: augustl: yes
[19:36] mikeal: that's magic
[19:36] mikeal: not gonna happen
[19:36] tilgovi: and magic deserves to be wrapped
[19:36] mikeal: what is wrong with returning the generated listener?
[19:36] tilgovi: it's asymettric with on/addListener and it breaks chaining.
[19:37] Coal has joined the channel
[19:37] clarkfischer has joined the channel
[19:39] tilgovi: mikeal: in some dream world with pure functional js and immutable variables, once and on would actually return a *new* emitter.
[19:39] prinzdezibel has joined the channel
[19:40] mikeal: chaining should be removed
[19:40] ncb000gt: augustl: i'm doing something similar to that right now
[19:40] tilgovi: (1): Disagree Strongly
[19:40] augustl: ncb000gt: cool
[19:40] tilgovi: but I won't argue it.
[19:40] augustl: time to toss out my home rolled stuff
[19:40] augustl: it even has async setUp/tearDown, lovely
[19:40] robotarmy has joined the channel
[19:41] ncb000gt: augustl: you can create a function that takes a suite as a param, and then do suite.setUp = function(test) {...} and suite.tearDown = function(test) {...} inside
[19:41] mjr_: So I'm using the new HTTP client API.  I get a lot of error events with "Error: socket hang up" from time to time, and I can't figure out why.
[19:41] ncb000gt: return testCase.super_.call(this, suite);
[19:41] ncb000gt: and then after sys.inherits(<function>, nodeunit.testCase)
[19:42] ncb000gt: and that will give you what you want
[19:42] augustl: hmm
[19:43] blueadept has joined the channel
[19:43] ncb000gt: augustl: did that make any sense?
[19:43] tjholowaychuk: nodeunit is all serial?
[19:43] spetrea-home has joined the channel
[19:44] augustl: ncb000gt: I'll have to wrap every testCase call?
[19:44] mjr_: mikeal: do you ever got those socket hung up things with 0.4.0 in request?
[19:45] ncb000gt: tjholowaychuk: yea, i don't believe the tests are async
[19:45] ncb000gt: augustl: no, sec
[19:45] ncb000gt: i'll hook up a gist in a sec
[19:45] fission6: any jsdom users here?
[19:45] tjholowaychuk: they are async
[19:45] tjholowaychuk: just not parallel
[19:45] tjholowaychuk: == slow
[19:46] Coal has joined the channel
[19:46] ncb000gt: tjholowaychuk: yes, sorry
[19:47] bingomanatee has joined the channel
[19:47] ncb000gt: tjholowaychuk: tho, not exactly slow
[19:47] augustl: tjholowaychuk: by async, I meant not assuming tests finish when the function finishes executing
[19:48] tjholowaychuk: ncb000gt: most of my suites would be really slow
[19:48] tjholowaychuk: if they were serial
[19:48] tjholowaychuk: I cant stand waiting more than a second
[19:48] svenlito has joined the channel
[19:48] ncb000gt: tjholowaychuk: o.0
[19:49] ncb000gt: tjholowaychuk: how many tests/assertions do you have
[19:49] tjholowaychuk: ncb000gt: ~500 or so, depends on the project
[19:50] ncb000gt: hmmm
[19:50] tmpvar has joined the channel
[19:50] jb55 has joined the channel
[19:50] deepthawtz has joined the channel
[19:51] marcosvm has joined the channel
[19:51] tjholowaychuk: ncb000gt: lots of http stuff though
[19:51] tjholowaychuk: the rest would be fast with anything really
[19:53] torvalamo has joined the channel
[19:53] bingomanatee_ has joined the channel
[19:54] pauls has joined the channel
[19:54] farhadi has joined the channel
[19:57] mswanson has joined the channel
[19:57] mswanson has left the channel
[19:57] tmzt: tjholowaychuk: is n compatible with spark or spark2 or something that supports app.js ?
[19:57] sholmes has joined the channel
[19:58] sholmes: heylo
[19:58] tjholowaychuk: tmzt: n is just for installing node binaries
[19:59] bingomanatee: ACTION is TOTALLY STOKED that Ryan is going to present at the PHP meetup next WEEK at the CBS interactive meetup. Come one come all! show the LAMP community how we roll. 
[19:59] bingomanatee: oh ... uh... no Canadians. :D
[19:59] tmzt: okay, but spark is installed with npm and is node version specific, I guess what I mean is can it resolve something under the installation path
[19:59] isaacs: mikeal: i just changed my mind on the .once() thing.  I vote for inertia.
[20:00] mikeal: you vote for doing nothing :)
[20:00] isaacs: mikeal: srsly, you don't need any affordances in node-core to remove .once listeners.
[20:00] isaacs: mikeal: remember when we didn't have .once()?  What could you actually not do, srsly.
[20:00] isaacs: nothing
[20:00] mscdex: aklt: ping
[20:00] isaacs: foo.on("bar", function X () { foo.removeListener("bar", X); doSomethign() })
[20:00] isaacs: remember that?  not so bad.
[20:00] isaacs: sure, foo.once("bar", doSomethign) is better.
[20:01] bshumate has joined the channel
[20:01] bshumate has joined the channel
[20:01] isaacs: but if you really need to remove it, don't use .once().  problem solved.
[20:01] tilgovi: isaacs: once is nice sugar. but there's no reason removeListener can't be made to work with it.
[20:01] isaacs: tilgovi: can't !== shouldn't
[20:01] isaacs: i like the way it is.
[20:02] isaacs: BIKESHED.
[20:02] piscisaureus: mraleph: ping
[20:02] tilgovi: either once shouldn't be there at all or it should play nicely with removeListener
[20:02] mraleph: piscisaureus: pong
[20:02] sholmes: is there a simple way i can curl install node on my vps?
[20:02] piscisaureus: mraleph: is there any way i can verify that crankshaft / Sampler is working propertly
[20:02] piscisaureus: *properly ?
[20:02] isaacs: tilgovi: why?
[20:02] isaacs: tilgovi: i'd rather not have .once make changes to my fucntion.
[20:03] isaacs: foo.once("bar", doSomething); foo.once("baz", doSomething)
[20:03] mraleph: piscisaureus: you can try to do --trace-opt and for some benchmark and look at output
[20:03] isaacs: foo2.once("bar", doSomething)
[20:03] isaacs: tilgovi: setting a flag on the listener function itself is not an option.
[20:03] sholmes: can I install through npm
[20:03] tilgovi: isaacs: oh, certainly. It shouldn't *mutate* the function, but by all means wrap it.
[20:03] francescop has joined the channel
[20:03] isaacs: tilgovi: ok, but if it's wrapped, then how does foo.removeListener("bar", doSomething) work?
[20:03] tilgovi: isaacs: wrap it in a closure which *does* set a flag
[20:03] mraleph: piscisaureus: if is contains lines like "[marking foobar" then it is probably working :-)
[20:04] isaacs: tilgovi: so the closure has some closure._actualListener = doSomething?
[20:04] bingomanatee has joined the channel
[20:04] isaacs: meh.  it's still ugly, and completely unnecessary,imo.
[20:04] tilgovi: isaacs: or if we're going to be paranoid about trying to accommadet people who for some godforsaken reason have already set such a value, don't use a simple list of callbacks as the listeners and keep that state somewhere in the eventemitter
[20:04] bingomanatee: bikeshed.com is awesome
[20:05] tilgovi: dude. <3 bikesheds.
[20:05] isaacs: "EventEmitter#once() works like this.  If you need to remove a listener, don't use it."  Done
[20:05] isaacs: solve this with documentaiton.
[20:05] mraleph: piscisaureus: why?
[20:05] tmzt: sholmes: I think you would have bootstrap issues if you tried to install node with npm
[20:05] tilgovi: isaacs: I'm fine with that.
[20:05] isaacs: sholmes: npm install nave ; nave use latest
[20:05] sholmes: tmzt: I don't know what boostrap means.
[20:06] tmzt: sholmes: I'm trying to use n now, I'll tell you how it goes
[20:06] tmzt: as in, npm requires node
[20:06] piscisaureus: mraleph: i made it work on cygwil
[20:06] sholmes: I tried installing npm without node installed, and it said I need node install before I install npm
[20:06] piscisaureus: well, that's what i wanted to check
[20:06] sholmes: tmzt: right.
[20:06] isaacs: sholmes: yeah.  you need node to use npm.
[20:06] sholmes: but why doesn't node have an hosted bash file?
[20:07] sholmes: like http://nodejs.org/install.sh
[20:07] mraleph: piscisaureus: nice
[20:07] isaacs: sholmes: cuz ry never wrote one, i guess?
[20:07] isaacs: i dunno
[20:07] tmzt: n is a nice bash script, seems to have had a substitution error though the last time
[20:07] isaacs: sholmes: you may find this useful: https://gist.github.com/579814
[20:07] kkaefer: in C++, how can I defer/postpone function calls?
[20:08] walkah has joined the channel
[20:08] piscisaureus: mraleph: not so difficult as I expected it to be
[20:08] piscisaureus: however, making catch not use with *is* more difficult than I thought it would be, hehe
[20:08] CIA-39: node: 03Ryan Dahl 07master * r0474ce6 10/ (src/node_buffer.cc test/simple/test-buffer.js): 
[20:08] CIA-39: node: Revert "buffer.toString() shouldn't include null values"
[20:08] CIA-39: node: This reverts commit 909a5b39d20f3cb72ed8c102b181ee46b886a54e.
[20:08] CIA-39: node: Will fix inside V8's String::New instead. - http://bit.ly/igVxNG
[20:08] Bauerpauer1 has left the channel
[20:08] sholmes: isaacs: should I just copy this bash script and run it?
[20:09] CIA-39: node: 03Ryan Dahl 07v0.4 * r77ae87d 10/ lib/http.js : default to port 80 for http.request - http://bit.ly/fYIDVS
[20:09] Utkarsh_ has joined the channel
[20:09] isaacs: sholmes: there are various techniques.  use whichever one you like.  if i were you, i'd at least *try* to read and understand them, though
[20:09] isaacs: sholmes: you don't need to do all of them.  :)
[20:09] sholmes: isaacs: the first one seems simple enough.
[20:10] hunterloftis: Just got my company to go with a github account so I don't have to manually manage the git server permissions etc, anybody have a coupon code before I submit?
[20:10] isaacs: sholmes: yep.  i tried to make it simple :)
[20:10] isaacs: I should really put a "use sudo" method on there
[20:10] isaacs: since npm 0.3.0 will encourage root usage
[20:10] hunterloftis: isaacs: awesome, I always sudo npm ;)
[20:11] sholmes: isaacs: why doesn't one of these become the official shell script for node?
[20:11] isaacs: sholmes: dunno.  that's a valid thing, though.  maybe there should be a one-liner for node + npm
[20:11] possibilities has joined the channel
[20:11] isaacs: bbiab
[20:12] augustl: looking for URL routing libraries/DSLs/etc
[20:13] aheckmann has joined the channel
[20:13] killfill: i have a proggy that makes http request to a place, that is not direct reachable. I need to use a proxy. Whats the easies way to make it use a proxy for the http requests?
[20:13] killfill: maybe there is a env var i could use?
[20:14] unomi has joined the channel
[20:14] unomi has joined the channel
[20:17] jpstrikesback has joined the channel
[20:20] strmpnk has joined the channel
[20:20] sholmes: what does the pipe (|) do in bash?
[20:21] riven` has joined the channel
[20:21] mikeal: isaacs: i forgot that listeners() is part of the public api
[20:21] riven has joined the channel
[20:21] mikeal: so i was a little annoyed that you had to use it for this use case
[20:21] killfill: setting up http_proxy doesnt work.. :P
[20:21] kal-EL_ has joined the channel
[20:21] disqk has joined the channel
[20:21] jlewis has joined the channel
[20:22] skohorn_ has joined the channel
[20:22] kloeri_ has joined the channel
[20:22] zhware has joined the channel
[20:22] mikekell1 has joined the channel
[20:22] zachsmith_ has joined the channel
[20:22] dorkitud1 has joined the channel
[20:22] d0k_ has joined the channel
[20:22] nejucomo1 has joined the channel
[20:22] inimino` has joined the channel
[20:22] mape_ has joined the channel
[20:22] shaver_ has joined the channel
[20:22] rwaldron__ has joined the channel
[20:22] jlecker_ has joined the channel
[20:23] pekim_ has joined the channel
[20:23] Utkarsh_ has joined the channel
[20:23] hassox_ has joined the channel
[20:23] piscisaureus: ryah: ping
[20:24] JCS0_ has joined the channel
[20:24] jetienne_ has joined the channel
[20:24] jpick1 has joined the channel
[20:24] sth_ has joined the channel
[20:24] chapel_ has joined the channel
[20:24] cyraxx_ has joined the channel
[20:24] chapel_: SubStack: pimped some dnode for you http://news.ycombinator.com/item?id=2222935
[20:24] astoon_ has joined the channel
[20:24] bshumate_ has joined the channel
[20:24] bshumate_ has joined the channel
[20:25] rphillips_ has joined the channel
[20:25] drudge- has joined the channel
[20:25] marcab__ has joined the channel
[20:25] roger_ra1mond has joined the channel
[20:25] cnu_ has joined the channel
[20:25] Kudos_ has joined the channel
[20:25] sugardav1 has joined the channel
[20:25] c4milo1 has joined the channel
[20:26] huned1 has joined the channel
[20:26] ryah: piscisaureus: pong
[20:26] piscisaureus: ryah: I ported the missing stuff so crankshaft now works on cygwin too. Contains a few other correctness fixes as well.
[20:26] piscisaureus: https://gist.github.com/828169
[20:26] mscdex: sholmes: pipes stdout of one program into the stdin of another
[20:26] langworthy_ has joined the channel
[20:27] mw_ has joined the channel
[20:27] ncb000gt: augustl: sorry, ceo stopped by, i'll finish up that gist
[20:27] vnguyen has joined the channel
[20:27] sholmes: mscdex: the left part being the stdout that goes into the stdin of the right part?
[20:28] mscdex: sholmes: yep
[20:28] ryah: piscisaureus: how are you checking if crackshaft is running?
[20:28] ryah: piscisaureus: i can land this - but it'd be really good if you sent this upstream
[20:28] cognominal has joined the channel
[20:28] piscisaureus: node --trace-opt somefile.js
[20:28] piscisaureus: should have [marking foobar in it
[20:29] piscisaureus: ryah: I asked mraleph if it would land, but he told me "difficult question"
[20:29] sholmes: with this line `curl http://nodejs.org/dist/node-latest.tar.gz | tar xz --strip-components=1` what would the curl statement be piping into the tar statement?
[20:29] ryah: mraleph: what's the opposition?
[20:29] Utkarsh_ has joined the channel
[20:29] tizoc has joined the channel
[20:29] mscdex: sholmes: the content of the file
[20:30] mraleph: no opposition. will just have to test it on cygwin.
[20:30] ziro`: tjholowaychuk: about?
[20:30] mraleph: piscisaureus: does it pass the whole testsuite?
[20:30] ryah: mraleph: you don't test solaris, do you? :)
[20:30] ncb000gt: augustl: https://gist.github.com/828182
[20:30] piscisaureus: mraleph I tried `tools/test.py` dry and it passed 100%
[20:30] piscisaureus: did nothing like --test-all or something
[20:30] piscisaureus: haven't got all day :p
[20:31] piscisaureus: and only one pc
[20:31] mraleph: well that's true. but I am not sure that we want to add yet another untested platform file.
[20:31] fission6: anyone here use jsdom?
[20:31] mraleph: piscisaureus: then upload it to codereview.
[20:32] ryah: piscisaureus: yes, please do
[20:32] ncb000gt: augustl: let me know if that doesn't make sense
[20:32] MikeMakesIt has joined the channel
[20:32] jano_ has joined the channel
[20:32] ryah: ACTION doesn't like floating v8 patches
[20:32] mape has joined the channel
[20:32] Druid_ has joined the channel
[20:32] jano_: tizoc++
[20:32] v8bot:  jano_ has given a beer to tizoc. tizoc now has 1 beers.
[20:33] isaacs has joined the channel
[20:33] sholmes: the shell script that isaacs sent me isn't working. what's the standard way to install?
[20:33] tizoc: jano_: mm.. but I can't drink it!
[20:33] sholmes: I have a VPS, how should I install node on my VPS?
[20:33] yozgrahame1 has joined the channel
[20:34] squeeks: whatever package management is present.
[20:34] mraleph: how come node cleanly builds on cygwin? without any patches
[20:34] fumanchu182 has joined the channel
[20:34] Ratty_: mraleph: It was written that way, I guess.
[20:34] ryah: mraleph: because we've landed many patches for it :)
[20:35] mraleph: ryah: can it be that -fnobuiltin-memcpy is among them?
[20:35] tfe_ has joined the channel
[20:35] tfe_ has joined the channel
[20:35] ryah: mraleph: that was needed for mingw
[20:35] ryah: afaik not for cgywin
[20:36] yx has joined the channel
[20:36] mraleph: ok.
[20:36] mraleph: I am just buging myself with this ongoing 0.2.6 vs 0.4.0 performance struggle.
[20:36] mscdex: sholmes: not sure why that command didn't work for you, you have curl installed right?
[20:36] Dreamer3 has joined the channel
[20:37] Me1000 has joined the channel
[20:37] Remoun has joined the channel
[20:38] piscisaureus: ACTION trying to get rietveld going on cygwin
[20:38] rburhum has joined the channel
[20:38] rburhum has left the channel
[20:39] tizoc has left the channel
[20:42] Lorentz has joined the channel
[20:43] sholmes: mscdex: which command
[20:43] possibilities has joined the channel
[20:44] vipaca has joined the channel
[20:44] bx2 has joined the channel
[20:44] vipaca has joined the channel
[20:44] monoclebob has joined the channel
[20:44] hunterloftis has joined the channel
[20:44] vipaca: ping
[20:44] Ratty_: Off topic. How did you make the CIA bot use colour?
[20:44] Ratty_: pong
[20:44] squeeks: feed it control chars.
[20:45] vipaca: qq: Is Python 3.4 a build-time or run-time requirement for Node?
[20:45] Ratty_: I guess I should RTFM
[20:45] monoclebob: I'm trying to make node.js on Windows/Cygwin and I'm getting the error: "task failed (err #2):     {task: libv8.a SConstruct -> libv8.a}" even though $SHELL == '/bin/bash'
[20:45] vnguyen_ has joined the channel
[20:46] unfo-: hmmmh is there a forEach in node?
[20:46] tjholowaychuk: unfo-: yes
[20:46] vipaca: I am trying to make decision whether we can use node in our product, but I am looking at legacy system running qq I have system running Python 2.3.4 and wondering if this is required to run node or just to build node?
[20:46] unfo-: tjholowaychuk, thanks
[20:46] tjholowaychuk: unfo-: [1,2,3].forEach(function(){})
[20:46] unfo-: tjholowaychuk, -bow-
[20:47] amerine has joined the channel
[20:47] fatjonny has joined the channel
[20:47] zomgbie has joined the channel
[20:47] dshaw has joined the channel
[20:48] ziro`: whats the best cli option parser module?
[20:48] piscisaureus: mraleph: you think you or your colleagues will be happier if I add a changeset that alters platform-linux.cc instead of adding platform-cygwin.cc
[20:48] piscisaureus: platform-cygwin is derived from platform-linux so it may make reviewing a lot easier
[20:48] piscisaureus: ?
[20:48] jtsnow has joined the channel
[20:48] vipaca: Second try does anyone know if node has a runtime dependency on Python 3.4?
[20:48] ncb000gt: vipaca: python is used to build node
[20:49] mraleph: if you think that this is possible try doing that.
[20:49] bradleymeck_: no vipaca, build time only
[20:49] vipaca: ncb000gt: cool, do you know the gcc required?
[20:49] ncb000gt: g++
[20:49] v8bot:  ncb000gt has given a beer to g. g now has 1 beers.
[20:49] ncb000gt: hah
[20:50] mraleph: installing cygwin takes forever
[20:50] vipaca: ncb000gt: nice do you know the version of g++?
[20:50] ncb000gt: vipaca: i just setup a new machine yesterday and built node with 4.4.5
[20:50] piscisaureus: hmm it shouldnt
[20:50] bradleymeck_: vipaca, once built node has no external deps unless you build w/ shared libraries or use C++ modules
[20:50] ncb000gt: vipaca: i'm sure it works on an older version of g++
[20:50] monoclebob has left the channel
[20:51] ncb000gt: erm, compiles with
[20:51] vipaca: ncb000gt: Can you build Node without python?
[20:51] ncb000gt: vipaca: what bradleymeck_ said too
[20:52] vipaca: bradleymeck_ ncb000gt much appreciated.
[20:52] gasbakid has joined the channel
[20:52] ncb000gt: vipaca: i'm sure it's possible, but afaik it hasn't been scripted out. part of the build process uses js2c
[20:52] ncb000gt: which is a python lib
[20:52] mscdex: wscript is python
[20:52] tilgovi has joined the channel
[20:53] ncb000gt: mscdex: right, but if you want to get rid of python as a dep, you need to replace what's used
[20:53] ncb000gt: and js2c is a python lib afaik
[20:53] farhadi has joined the channel
[20:53] ncb000gt: everything else could be moved out, but the js2c bit would need to be replaced
[20:53] severla has joined the channel
[20:54] vipaca: ncb000gt: Thanks it sounds possible, but painful.
[20:54] severla: tjholowaychuk: how do i include a jade within another?
[20:54] ncb000gt: vipaca: most likely
[20:54] possibilities has joined the channel
[20:54] bronson has joined the channel
[20:55] vipaca: bradleymeck_ ncb000gt : no idea what the minimum g++ version though?
[20:55] Me1000 has joined the channel
[20:55] ncb000gt: vipaca: i have no idea... i'm using pretty modern systems these days so i usually have a pretty recent version of g++
[20:55] Coal has joined the channel
[20:57] mscdex: i just recall having issues with gcc 3.x
[20:57] mscdex: i always use 4.x
[20:58] meck has joined the channel
[20:59] jb55 has joined the channel
[21:03] elliottcable has joined the channel
[21:04] ncb000gt: severla: I don't believe jade itself supports "includes", although you could probably do so using a filter.
[21:04] severla: i'll check
[21:04] ncb000gt: severla: if you're using express then you can use the layout approach but that is only one framing template.
[21:04] hosh_work has joined the channel
[21:04] severla: i'm using express
[21:05] severla: what's the layout approach?
[21:05] ncb000gt: severla: the alternative approach is to do something where you just use jade to render your content and then pass it to the other template as a local var
[21:05] ncb000gt: in the local var you'd want to use !{<var>}
[21:05] confoocious has joined the channel
[21:05] confoocious has joined the channel
[21:06] ncb000gt: and it'll drop the html in without encoding it
[21:06] isaacs: sholmes: the curl statement would be piping the contents of the tarball into the tar statement
[21:06] jakehow has joined the channel
[21:06] sholmes: isaacs: yeah. But I tried the script and it ran for a while, but in the end it didn't seem to install node properly
[21:07] ncb000gt: severla: http://expressjs.com/guide.html#View-Rendering
[21:07] mauritslamers has joined the channel
[21:07] jakehow_ has joined the channel
[21:08] ceej: is seems that doing App.use('/admin', require('./admin/admin')); it no longer inherits the previous app's settings....
[21:08] jdrannbauer has joined the channel
[21:08] mauritslamers: hey all.. question: is there any difference between node 0.2.x and 0.4.0 in the way function calls or loops are done inside a function?
[21:09] mscdex: sholmes: that command will just extract the source code
[21:09] ncb000gt: mauritslamers: no
[21:09] cnu has joined the channel
[21:09] mscdex: sholmes: you still have to: ./configure && make install
[21:09] mauritslamers: I have the weird experience that when I use an internal function which I fire a few times in a loop those functions seem to be executed later than the rest of the function itself
[21:09] ncb000gt: mauritslamers: there are however api changes
[21:10] sholmes: mscdex: those commands were in the shell script though
[21:10] msch has joined the channel
[21:11] mauritslamers: ncb000gt: the code I have is this: https://gist.github.com/828248
[21:11] ncb000gt: mauritslamers: and the issue is at?
[21:11] francescop has left the channel
[21:12] mauritslamers: and what I experience is that when I call the finisher function below the loop at the bottom
[21:12] mauritslamers: the html variable will be undefined
[21:12] mauritslamers: when I call the function as in the gist it works
[21:13] mauritslamers: so, the only conclusion I have is that the execution of the function fired in the loop is executed later than then function calls below the loop 
[21:13] yozgrahame has joined the channel
[21:15] mauritslamers: ncb000gt: any idea?
[21:15] ncb000gt: mauritslamers: sec, sorry
[21:15] w0rse_ has joined the channel
[21:15] mauritslamers: ncb000gt: np :)
[21:16] hwinkel1 has joined the channel
[21:17] tlissak has joined the channel
[21:17] BillyBreen has joined the channel
[21:17] mraleph: mauritslamers: so you are sure that you call finisher only from if (file.isHtml) { html = file; finisher(); }?
[21:17] francescop1 has joined the channel
[21:17] nrub has joined the channel
[21:17] francescop1 has left the channel
[21:17] mauritslamers: yep
[21:18] mauritslamers: in this case there is only one file which has isHtml set to true
[21:18] MaSch_ has joined the channel
[21:18] RushPL_ has joined the channel
[21:18] ncb000gt: mauritslamers: but you were saying that if you put the call to finisher after the last for loop, that it blows up yes?
[21:18] yozgrahame1 has joined the channel
[21:18] easternbloc_ has joined the channel
[21:19] aurynn has joined the channel
[21:19] aurynn: So, what's the simplest way to daemonize my app server?
[21:19] tlissak: where i can get some help on installing/building node
[21:19] unsteadic has joined the channel
[21:19] drudge- has joined the channel
[21:19] SvenDowideit_ has joined the channel
[21:19] ncb000gt: aurynn: spark2
[21:19] mauritslamers: ncb000gt: when I do it like this, it blows: https://gist.github.com/828264
[21:19] ncb000gt: tlissak: what's the issue?
[21:20] aurynn: Ah! 
[21:20] zomgbie has joined the channel
[21:20] naneau_ has joined the channel
[21:20] aurynn: ncb000gt, thanks! :)
[21:20] tlissak: build failed
[21:20] sriley has joined the channel
[21:20] gf3 has joined the channel
[21:20] ncb000gt: tlissak: how? with what errors? what os? etc.
[21:21] tlissak: err 2 task:libv8.a SC....
[21:21] ncb000gt: also, what version of node
[21:21] tlissak: in the wiki page ive saw the solution , not work for me
[21:22] tlissak: ive tried v 0.4.0 / 0.3.8 / 0.3.7 
[21:22] ncb000gt: tlissak: what OS
[21:22] tlissak: win
[21:22] tlissak: 7
[21:23] tlissak: gcc updated / changeg version. same problem 
[21:23] ncb000gt: tlissak: cygwin i assume?
[21:23] tlissak: yep
[21:23] softdrink1 has joined the channel
[21:23] tj has joined the channel
[21:23] sprout1 has joined the channel
[21:23] ncb000gt: tlissak: out of my area of knowledge, sorry...i stick to linux =\
[21:23] mnot1 has joined the channel
[21:23] ncb000gt: tlissak: i'll try to find something related tho
[21:24] Jaye__ has joined the channel
[21:24] huned has joined the channel
[21:24] boaz_ has joined the channel
[21:24] tlissak: may check for builded version ?
[21:24] micheil_mbp has joined the channel
[21:24] _jdalton has joined the channel
[21:24] tlissak: or i have to compile my self
[21:24] ncb000gt: supposedly someone built some cygwin binaries...somewhere
[21:25] ncb000gt: but i'm not sure where they are
[21:26] real_ate has joined the channel
[21:26] tlissak: ok il search for it, thx for your help
[21:26] tlissak has left the channel
[21:29] real_ate: anyone mind if I update https://github.com/ry/node/wiki/ChangeLog to include whats in the released changelog?
[21:30] saschagehlich has joined the channel
[21:30] Guest26674: ryah: updated that pull req with a test
[21:31] nefD has joined the channel
[21:31] vyvea has joined the channel
[21:31] real_ate: ACTION hovers over the save button...
[21:32] kiddphunk has joined the channel
[21:32] farhadi has left the channel
[21:33] ncb000gt: mauritslamers: that seems like it should be ok. but, to reduce the fact that your code is statefull, you can pass the variable around to your functions, for instance, use finisher as a callback to parseFw, then call the callback with html as a param (update finisher to take html as a param)...
[21:33] Ratty_: ACTION pokes delete
[21:33] _jdalton has left the channel
[21:33] ncb000gt: real_ate: should be fine, it's vc'd anyway :)
[21:33] ivan has joined the channel
[21:33] ivan has joined the channel
[21:34] derferman has joined the channel
[21:34] eyesUnclouded has joined the channel
[21:34] real_ate: ACTION bushed the big red button
[21:34] real_ate: ncb000gt: ;) 
[21:34] sivy has joined the channel
[21:34] real_ate: ACTION also meant pushed...
[21:34] Evet_ has joined the channel
[21:35] mauritslamers: ncb000gt: I have tried that, but that doesn't work
[21:35] mauritslamers: for some reason the html variable is set after the finisher is called... that is the only explanation I have
[21:35] meck: mauritslamers: what is the error you are getting, and on which line?
[21:36] real_ate: so... eh... rolercoaster release schedules, libraries and projects poping up and dying just as quick cos they can't keep up... eeek! whats the advice for newbies? should we try and keep up with new relases and start porjects on 0.4.0 or go with some of the 'frameworks' like express and go for older versions of node? 
[21:37] tjholowaychuk: real_ate: its a bit of a tough call for the next little bit
[21:37] mauritslamers: meck: hmm, html is set...
[21:37] tjholowaychuk: while people update
[21:37] tjholowaychuk: but most are not hard migration-wise
[21:38] real_ate: ... i've just noticed you're doing "odd unstable" releases... 
[21:38] zomgbie has joined the channel
[21:38] real_ate: tjholowaychuk: so i guess the 0.4.0 is a good place to start a brand new project
[21:38] real_ate: and then wait/hope for "framework" updates/support?
[21:39] mauritslamers: meck: the problem I was getting is indeed different...
[21:39] mauritslamers: checking further
[21:39] meck: alrighty
[21:40] ncb000gt: mauritslamers: what is that.server.files set to?
[21:40] alek_br has joined the channel
[21:40] aurynn: Hmm. Spark2 doesn't seem to want to play with 0.2.6
[21:40] aurynn: I have to update anyway
[21:40] ncb000gt: and what is that.server.files, an object?
[21:40] mauritslamers: ncb000gt: an array 
[21:41] ncb000gt: mauritslamers: heh...yea
[21:41] mauritslamers: it is part of the following project: http://github.com/mauritslamers/garcon
[21:41] tjholowaychuk: aurynn: we have a new solution that supports 0.2.6 and 0.4.0
[21:41] tjholowaychuk: releasing today
[21:41] hish has joined the channel
[21:41] tjholowaychuk: AFAIK
[21:41] aurynn: tjholowaychuk, awesome
[21:41] aurynn: :)
[21:41] tjholowaychuk: except node has a bug will null signal so I cant finish one part
[21:41] tjholowaychuk: but other than that its good to go
[21:42] mauritslamers: meck: ncb000gt: getting the original error again: html.content = this.rootContent( "  typeerror: cannot set property content of undefined
[21:43] ncb000gt: mauritslamers: try this, https://gist.github.com/828313
[21:43] ncb000gt: line 60
[21:44] ncb000gt: although, this is not the best solution either, that.server.files can change while looping, so you'll want to get the length before you enter the loop and check against that var
[21:44] mauritslamers: I will, but let me first show you the original implementation
[21:44] hish has joined the channel
[21:44] ncb000gt: mauritslamers: ok
[21:45] saschagehlich: how can I overwrite io.Transport.prototype._onHeartbeat from the socket.io client? io.Transport.prototype._onHeartbeat= function().... does not work
[21:45] mauritslamers: ncb000gt: https://github.com/mauritslamers/garcon/blob/master/lib/app.js#L194
[21:45] joshthecoder has joined the channel
[21:46] ncb000gt: mauritslamers: sure, but what you're doing on line 225(line 60 of the gist) is looping over the keys
[21:46] ncb000gt: of an object
[21:46] ncb000gt: not looping over the indexable values of the array
[21:46] mauritslamers: this has the same problem: it sets the html variable in the forEach function, but when arriving at line 256, html is undefined
[21:46] hish has left the channel
[21:47] ncb000gt: that is because of what i described
[21:47] mauritslamers: ncb000gt: that is true indeed...
[21:47] ncb000gt: i suspect that is your issue there
[21:47] montylounge has joined the channel
[21:47] mauritslamers: it might indeed, but not sure what files is here, normally I would guess an array, but as it is used here it seems to be an object indeed... checking
[21:48] meck: mauritslamers: why don't you throw some logs into key places such as your if (file.isHtml){, and finisher()... see if finisher is ever really called when you think it's working
[21:48] muk_mb has joined the channel
[21:48] ncb000gt: mauritslamers: in the lib example you sent, it is an object
[21:48] ncb000gt: per line 164 (this.server.files[this.name] = symlink)
[21:49] ncb000gt: however, if in your example, it's an array, then it would have the problem with keys
[21:49] ncb000gt: using that looping approach that is
[21:50] meck: this is why ncb000gt's suggestion of reducing your dependency on state would be extremely useful... if you pass html into your function, you know it exists... you're depending on the side-effects of other functions here, which is not a reliable dependency
[21:50] alek_br has joined the channel
[21:50] sugardave has joined the channel
[21:51] mauritslamers: meck: I didn't write this code :) and you are completely right
[21:51] dspree has joined the channel
[21:51] dspree has joined the channel
[21:51] Dreamer3 has joined the channel
[21:51] mauritslamers: the files thing seems to be defined as an array
[21:52] mauritslamers: but used as an object, with strings as keys
[21:52] nmtmason has joined the channel
[21:55] ncb000gt: mauritslamers: i see that in lib/server.js too
[21:55] mauritslamers: ncb000gt: changing it into an object doesn't help though
[21:55] ncb000gt: mauritslamers: maybe App.name is set to a number?
[21:55] hornairs has joined the channel
[21:56] zomgbie has joined the channel
[21:56] ncb000gt: mauritslamers: right, don't change it to an object
[21:56] mauritslamers: ncb000gt: very unlikely :)
[21:56] ncb000gt: try the change i suggested
[21:56] stephen_mcd has joined the channel
[21:57] strmpnk has joined the channel
[21:57] mauritslamers: ncb000gt: I will, thanks!
[21:58] alek_br_ has joined the channel
[21:59] vyvea has joined the channel
[21:59] ncb000gt: mauritslamers: let me know if that doesn't work
[22:00] altamic has joined the channel
[22:00] CIA-39: node: 03Bert Belder 07v0.4 * ra293f90 10/ (4 files in 3 dirs): 
[22:00] CIA-39: node: Improve V8 support for Cygwin
[22:00] CIA-39: node: Should re-enable crankshaft; can build w/ snapshot again. - http://bit.ly/gDWeap
[22:00] CIA-39: node: 03Felix Geisendörfer 07v0.4 * r29b0dc4 10/ (lib/fs.js test/simple/test-fs-open.js): (log message trimmed)
[22:00] CIA-39: node: Fix: fs.open callback did not fire
[22:00] CIA-39: node: Problem: Omitting the mode parameter causes the provided callback
[22:00] CIA-39: node: parameter to never fire. This was originally fixed in 6078c37b and
[22:00] CIA-39: node: later broken in 5f2e9093.
[22:00] CIA-39: node: Solution: Overwriting the value of a parameter also overwrites the
[22:00] CIA-39: node: reference in the arguments object. This patch works arround this
[22:00] CIA-39: node: 03Felix Geisendörfer 07v0.4 * raabdd5d 10/ doc/api/fs.markdown : 
[22:00] CIA-39: node: Correct fs.open API documentation
[22:00] CIA-39: node: The fact that the mode parameter is optional for fs.open and
[22:00] CIA-39: node: fs.openSync was not documented. - http://bit.ly/ey2tNG
[22:00] CIA-39: node: 03Felix Geisendörfer 07v0.4 * re56ee67 10/ lib/fs.js : (log message trimmed)
[22:00] CIA-39: node: Refactor fs.open parameter handling
[22:00] CIA-39: node: Improvements:
[22:00] CIA-39: node: * Removes an unnecessary variable
[22:00] CIA-39: node: * Avoids having two variables with the same name
[22:00] CIA-39: node: * Avoids re-declaring an existing parameter
[22:00] CIA-39: node: * Removes an unnecessary ternary operator
[22:03] gasbakid has joined the channel
[22:04] Evet has joined the channel
[22:04] trentm has joined the channel
[22:04] jamescarr has joined the channel
[22:05] tlrobinson_ has joined the channel
[22:05] trentm: is there a room for expressjs discussion/questions ?
[22:05] tjholowaychuk: trentm: nope
[22:05] tjholowaychuk: feel free to ask me
[22:05] Evet has joined the channel
[22:05] tjholowaychuk: or hit up the mailing list
[22:06] Evet has joined the channel
[22:07] CIA-39: node: 03Ryan Dahl 07v0.4 * r60ad3aa 10/ (2 files in 2 dirs): Disable test-tls-large-push, taking too long - http://bit.ly/gKZQ1E
[22:07] trentm: okay, I'll ask here then.    express.createServer() has a "this.config = {}" 
[22:07] ryah: piscisaureus: awesome job on the buildbots
[22:07] trentm: is that vestigial? 
[22:07] piscisaureus: ryah: :-O
[22:08] piscisaureus: should land a patch that fixes the testrunner on mingw, but I'm busy with v8 now
[22:08] tjholowaychuk: trentm: yeah looks like it
[22:08] tjholowaychuk: trentm: yup, just some old lingering useless thing
[22:09] piscisaureus: ryah: mraleph: http://codereview.chromium.org/6525028
[22:09] tjholowaychuk: just removed it
[22:09] trentm: nice, thanks
[22:09] nrub has joined the channel
[22:09] kuhrt has joined the channel
[22:09] mraleph: piscisaureus: okey. will look tomorrow.
[22:09] piscisaureus: mraleph: I'm afraid I added a lot of issues that I deleted later
[22:10] netrealm has joined the channel
[22:10] btipling has joined the channel
[22:10] piscisaureus: your colleagues will hate me for it
[22:10] mraleph: piscisaureus: well it does not send any mail unless you ask it.
[22:10] piscisaureus: How do I do that? publish+mail?
[22:10] mraleph: we like our contributors :-)
[22:11] mraleph: yes publish+mail does that
[22:11] btipling has joined the channel
[22:12] losing has joined the channel
[22:12] SubStack: chapel: awesome!
[22:12] mattly has joined the channel
[22:14] cha0s has joined the channel
[22:14] cha0s has joined the channel
[22:14] vilsonvieira has joined the channel
[22:14] colinclark has joined the channel
[22:15] fille has joined the channel
[22:15] btipling has joined the channel
[22:15] btipling has joined the channel
[22:15] fille: hello
[22:16] sriley has joined the channel
[22:16] konobi: SubStack: see node-ctype?
[22:16] possibilities has joined the channel
[22:16] fille: hello 
[22:16] fille: got a question about nodejs
[22:17] whack has joined the channel
[22:17] rphillips has joined the channel
[22:17] Ratty_: Oh yeah?
[22:17] fille: yepp
[22:17] whack has left the channel
[22:18] fille: wondring say i whant to build a chat
[22:19] fille: i use jquery to connect to the node.js site?
[22:19] Ond has joined the channel
[22:19] fille: or i let the whole nodejs parse the site?
[22:19] fille: node.js server
[22:19] eee_c has joined the channel
[22:19] fille: did i get it right?
[22:20] Bonuspunkt: http://chat.nodejs.org/ <- ?
[22:20] mikeal has joined the channel
[22:20] btipling has joined the channel
[22:20] fille: i mean where should node.js be?
[22:20] fille: replacing appache?
[22:21] fille: apache
[22:21] squeeks: No. nodejs is more than a webserver.
[22:21] fille: but i see liks a html site (with jquery) connecting to a node.js server
[22:22] fille: it that correct?
[22:22] squeeks: node.js does more than that.
[22:22] spaceinvader: http://chat.nodejs.org is nifty
[22:23] fille: wow thats cool
[22:23] Bonuspunkt: we should leave the irc and go over there? :D
[22:23] fille: so what is best practis?
[22:23] tlrobinson_ has joined the channel
[22:23] fille: develop everything on the serverside?
[22:23] fille: no client side at all?
[22:23] squeeks: do both.
[22:23] squeeks: do either.
[22:24] unomi has joined the channel
[22:24] unomi has joined the channel
[22:24] fille: so i make a jquery site with a setinterval 
[22:24] fille: and connect to my node.js server?
[22:24] isaacs: SubStack: yo
[22:24] SubStack: aye
[22:24] isaacs: SubStack: i added some extra fanciness in npm's mkdir-p.js
[22:25] isaacs: SubStack: but i'd love to abstract that thing out
[22:25] isaacs: SubStack: and i see that you have written one
[22:25] SubStack: yep
[22:25] kiddphunk has joined the channel
[22:25] isaacs: my goal is to remove as much of the reusables from npm as possible.
[22:25] isaacs: '
[22:25] SubStack: that's a great goal
[22:26] ncb000gt: mauritslamers: did that work?
[22:26] isaacs: but i need to (as of npm 0.3.0) also set the uid/gid of directories that i create quite often.
[22:26] mauritslamers: ncb000gt: haven't had the opportunity to test...
[22:26] ncb000gt: gotcha
[22:26] SubStack: isaacs: if (Array.isArray(mode)) perhaps?
[22:26] richcollins has joined the channel
[22:27] isaacs: SubStack: well, right now i've got this mishmash of optional params, which sucks
[22:27] isaacs: SubStack: i'd prefer something like mkdirp(path, {options}, cb)
[22:27] fille: so u are using a html page(apache) that are listing (jquery)  to the node.js server for updates
[22:27] isaacs: where {options} would contain the mode, uid, gid
[22:27] isaacs: fille: why use apache?
[22:27] SubStack: if (typeof mode === 'object') then
[22:28] fille: isaacs well i try to understand the whole thing
[22:28] isaacs: fille: i mean, why not just have nodejs serve your html page?
[22:28] NuckingFuts has joined the channel
[22:28] fille: isaacs, trying to understand, whats going on
[22:28] NuckingFuts: oh wow no ops lol
[22:29] fille: isaacs but im totaly worng i guess
[22:29] pl-6: fille=- I'm in your boat -  just at the surface - figuring node.js out
[22:29] pl-6: I'm just getting that I can skip using a web server now
[22:29] fille: pl-6 thank u :D
[22:30] pl-6: I don't have node.js running though - that's a mountain to climb for me ! heh
[22:30] isaacs: so, the issue here is that node.js IS an http server
[22:30] isaacs: it's got a webserver in it
[22:30] mraleph: ACTION holy cow I've installed cygwin. now I can try to figure out wtf happened to node 0.4.0
[22:30] pl-6: but without question - I know when I start to climb that mountain - people in this channel I observe are very helpful
[22:30] fille: but where goes the html files
[22:30] isaacs: so you can use that to serve an html page, and then do other stuff, also
[22:30] isaacs: fille: doesn't matter :)  read it into memory using the the fs module, or just have it in a javascript string or buffer.
[22:30] ryah: mraleph: im sorry for your pain
[22:31] spaceinvader: use express and the static file server to get started
[22:31] isaacs: fille: it's a very low-level http util
[22:31] fille: so u mean everyone is like end.res ( <html> .. 
[22:31] pl-6: fille- have you seen that one google tech talk  ?  This guy Ryan talk about node.js on the server - >  http://www.youtube.com/watch?v=F6k8lTrAE2g
[22:31] Ond: res.end
[22:31] isaacs: fille: you can do it that way, using res.write() and res.end
[22:31] ryah: we should have a special stream for buffering strings
[22:32] ryah: var s = new StringBuffer(); res.pipe(s); s.string;
[22:32] pl-6: I found that 'interesting' but Ryan was speaking to an anticipated well skilled/educated audience- so some of it I wasn't able to fully appreciate.
[22:32] fille: so u mean like res.write will keep the client bee connected?
[22:32] pl-6: is res similar to response.write ? in MS ASP object model ? 
[22:32] bradleymeck_: ryah, whats wrong with just setting the tostring method instead of a variable?
[22:32] ryah: bradleymeck_: yeah, sure
[22:33] fille: time for bed
[22:33] fille: i will be back
[22:33] bradleymeck_: pl-6 res / req corespond kinda to Response/Request in asp
[22:33] pl-6: sounds like with node.js  - I don't have to say- run IIS and then some object model on top of it - such as ASP.  Sounds like node.js is everything in one basket
[22:33] ncb000gt: pl-6: Ryan == ryah in this channel
[22:33] piscisaureus: mraleph: are you sure you did the right thing w/ cygwin? Installing it on the buildbot took me 'only'  20 mins yesterday, and that is not exactly the fastest machine I've ever used.
[22:34] wink_ has joined the channel
[22:34] Ond: Res is just the name of the second parameter of the callback to createServer, which has methods for sending stuff
[22:34] pl-6: oh my- Ryan  is here ? in the chan ? wow-  that's tops.   
[22:34] fille: res and req is like the javas midlets
[22:34] pl-6: I met maraak is it ? JimBastard was his last nick here- I saw his JSONLoops project- I liked that. 
[22:34] mraleph: piscisaureus: maybe I've installed to much
[22:34] josephhitchens: pl-6: worship from afar.  he's a busy guy.
[22:34] pl-6: joseph - heh - no doubt.
[22:34] piscisaureus: mraleph: you checked everything?
[22:34] ncb000gt: pl-6: Aye. Marak == JimBastard
[22:35] jakehow_ has joined the channel
[22:35] jakehow has joined the channel
[22:35] ryah: ACTION rolls his eyes
[22:35] pl-6: real nice guy - offered any help with node.js -  I like this chan.
[22:35] Ratty_: ryah gets all the chicks
[22:35] SubStack: konobi: node-ctype looks pretty underwhelming, frankly
[22:36] mraleph: piscisaureus: I can't build anything. I am getting remapping cygwin crap
[22:36] SubStack: "One cannot remove a typedef once created, this is analogous to C."
[22:36] SubStack: what the fuck
[22:36] piscisaureus: mraleph: close cygwin, then start 'ash' in cygwins bin directory
[22:36] micheil: ryah: for the new doctool, IP / Copyright across to Joyent?
[22:36] piscisaureus: then run /bin/rebaseall
[22:37] amerine has joined the channel
[22:37] mraleph: piscisaureus: no, that does not help :-)
[22:37] malkomalko has joined the channel
[22:37] SubStack: and it doesn't do loops or operate on streams, which are pretty important since streams can produce buffers broken up annoyingly at any boundary
[22:37] piscisaureus: mraleph: did it rebase anything? you got any output from rebaseall?
[22:37] piscisaureus: usually there's problems with python
[22:38] Ond: I'd really like to access my req.session directly from dnode. 
[22:38] SubStack: I do like the arrays thing, I might steal that for node-binary
[22:38] piscisaureus: but rebaseall makes that go away
[22:38] Ond: Didn't you have a solution for this, Substack?
[22:38] malkomalko: can anyone explain this? 
[22:38] malkomalko: https://gist.github.com/3671b3af234d63c9a0f4
[22:38] mraleph: piscisaureus: holy cow. after running it several times magic happened.
[22:38] malkomalko: it looks like javascript is changing timezones on me
[22:38] SubStack: Ond: yep, dnode-stack
[22:38] piscisaureus: mraleph: probably you had to wait a little for windows to unload the cygwin dll
[22:39] mraleph: piscisaureus: my happiness was premature. it crashed in the middle of ./configure... BS
[22:39] mraleph: pure BS.
[22:39] piscisaureus: "unable to remap"  again?
[22:40] mraleph: yes. I think I have to go hardcore http://code.google.com/p/chromium/wiki/CygwinDllRemappingFailure
[22:40] skm has joined the channel
[22:41] piscisaureus: mraleph: cygwin guys call this BLODA
[22:43] isaacs: piscisaureus: what's BLODA?
[22:43] mattly has joined the channel
[22:44] isaacs: ah, Big List Of Dodgy Apps
[22:44] piscisaureus: isaacs: <quote>
[22:44] piscisaureus: Big List Of Dodgy Apps. A list of applications that interfere with the normal working of Cygwin by intrusively injecting themselves in the system call chain.
[22:44] piscisaureus: </quote>
[22:44] mjr_: hilarious
[22:44] techwraith has joined the channel
[22:46] slaskis: anyone know of a etag/last-modified type of cache middleware for connect?
[22:46] mraleph: I managed to get moving by deleting some folder from inside cygwin and doing rebaseall again.
[22:47] piscisaureus: Ah you resolved the issue by killing some innocent bystanders
[22:47] tjholowaychuk: slaskis: conditionalGet?
[22:48] piscisaureus: enough cygwin for today. resuming on the IOCP event loop
[22:48] slaskis: tjholowaychuk: ooh, there it is. was sure i've seen it somewhere. thanks!
[22:49] ryah: \o/
[22:50] mraleph: \/o\
[22:50] squeeks: /o/
[22:51] squeeks: no YMCA? bah! you lot are hardly party animals.
[22:51] piscisaureus:  \\o\//g
[22:51] ryah:  can someone please write the 'gist' command in node 
[22:51] ryah: my ruby version doesn't work any more
[22:51] bradleymeck_: mmm? what did you want?
[22:51] mscdex: i thought someone did
[22:51] slickplaid: is there a good rss parser for node?
[22:52] ryah: npm install gist
[22:52] ryah: npm ERR! Error: 404 Not Found: gist
[22:52] isaacs: +1
[22:52] mscdex: may not be in npm i guess
[22:52] isaacs: mscdex: it's not written in node
[22:52] mscdex: huh? it was on github
[22:52] isaacs: the ruby one broke when github started redirecting to https
[22:52] jesusabdullah: orly?
[22:52] mscdex: no, this was made in node
[22:52] jesusabdullah: Bummer
[22:52] isaacs: mscdex: orly!!?
[22:52] mscdex: someone posted a link to it the other night
[22:52] isaacs: nice
[22:53] joaojeronimo has joined the channel
[22:53] squeeks: isaacs: hey, crazy idea? creating an npm mirror to use sqlite+fs instead of couch.
[22:53] isaacs: squeeks: have fun with that.
[22:53] squeeks: yeah I will after I finish writing this damn syslog server in node.
[22:53] isaacs: squeeks: be warned that npm uses pretty much the entire npm-registry API
[22:53] cloudhea1: how accurate is setTimeout? anyone knows? like if I set a timeout in exactly 48 hours, will it be precise?
[22:54] isaacs: cloudhea1: it's as precise as the event loop.
[22:54] piscisaureus: hey ryah: ETA on the net refactor? :p
[22:54] RobertLJ has joined the channel
[22:54] cloudhead: hm
[22:54] squeeks: isaacs: hrm. I have a million ideas and only two hands. Think I'll finish what work made me do first.
[22:54] isaacs: cloudhea1: ie, setTimeout(function(){console.error("foo")}, 100) ; n = new Date() + 10000;  while (n > Date.now()) { }
[22:54] ryah: piscisaureus: some weeks
[22:54] isaacs: cloudhead: "foo" won't be logged for at least 10000 ms
[22:55] isaacs: cloudhead: not 100
[22:55] isaacs: it doesn't "break in"
[22:55] Ond: Hey tjholowaychuk 
[22:55] cloudhead: ah right
[22:55] isaacs: cloudhead: and it's not a thread
[22:55] cloudhead: hmmm
[22:55] isaacs: if you're looking for hour-precision, yeah, i mean, that's probably fine, as long as you're not doing anything dumb.
[22:55] isaacs: i wouldn't time any missiles with it
[22:55] cloudhead: I'm looking for minute precision
[22:55] piscisaureus: ryah: there's a long critical path and the net refactor is really early in there
[22:55] cloudhead: haha
[22:56] isaacs: sure, probably good enough, assuming that same node process isn't doing anythign
[22:56] tjholowaychuk: Ond: hey
[22:56] cloudhead: right, so a better solution could be to use a separate process
[22:56] isaacs: cloudhead: even second-precision is pretty likely.  if you want single-ms precision, that's unlikely
[22:56] isaacs: cloudhead: sure, maybe.  id on't really know what you're doing.
[22:56] Ond: It is my understanding that previously one could get the req.session of a socket.io client by doing something like listener.server.dynamicViewHelpers.session() (if session is specified in dynamicviewhelpers to return req.session)
[22:56] Ond: Does that make any sense?
[22:57] cloudhead: isaacs: I need to send email notifications at specific points in time
[22:57] cloudhead: it's time sensitive to the minute
[22:57] tjholowaychuk: Ond: not to sure what peopel were doing for sessions w/ socket.io
[22:57] tjholowaychuk: would have to talk to rauchg for that
[22:57] tjholowaychuk: i dont work with socket.io ATM
[22:57] cloudhead: I guess 
[22:57] Ond: Alright
[22:57] cloudhead: I'll try with in-process, if it's too shody, I'll move it out
[22:58] tbassetto has joined the channel
[22:59] Ond: Reading through the express documentation I noted a couple small errors, tjholowachuk
[22:59] Ond: If you are concerned with that sort of thing
[22:59] tjholowaychuk: not overly haha
[22:59] tjholowaychuk: ill fix the typos next release
[22:59] easternbloc_: :)
[23:00] mscdex: ryah: isaacs: https://github.com/chapel/ngist
[23:01] tilgovi has joined the channel
[23:02] SubStack: Ond: the trick that dnode-stack does is it executes the middleware itself
[23:02] SubStack: socket.io has a reference to the webserver object but the middleware isn't executed for new connections
[23:03] narayan82 has joined the channel
[23:04] skm has joined the channel
[23:05] Ond: SubStack, ah, I see
[23:05] tonymilne has joined the channel
[23:06] losing_ has joined the channel
[23:07] snafuz_ has joined the channel
[23:07] samcday has joined the channel
[23:09] russell_h has joined the channel
[23:10] mraleph: ok. now I can clearly see with my own eyes that 0.2.6 looks 2 times faster.
[23:10] richcollins has joined the channel
[23:11] mjr_: wow, 2 times faster doing what?
[23:11] tjholowaychuk: mraleph: some of my test suites are a good 4-6x slower :(
[23:11] dstik has joined the channel
[23:11] tjholowaychuk: but mostly http stuff
[23:12] rwhitby has left the channel
[23:12] mraleph: linking 1000000 objects into a linked list
[23:12] EricL has left the channel
[23:12] Sidnicious has joined the channel
[23:12] Sidnicious has joined the channel
[23:12] mjr_: tjholowaychuk: your tests show 0.4 is slower than 0.2?
[23:12] piscisaureus: mraleph: what happens when you switch v8 for the version that was used in 2.6?
[23:13] mraleph: too complicated :-)
[23:13] mraleph: I have not tried that yet.
[23:13] mraleph: instead I want to apply your patch.
[23:13] piscisaureus: mraleph: ryah landed it so just pull ry/master again
[23:14] Sidnicious has joined the channel
[23:14] Sidnicious has joined the channel
[23:14] mraleph: ah. ok.
[23:14] mraleph: I did not pull though. I used tarball 
[23:14] piscisaureus: mraleph: oh I think you need to pull the v0.4 branch
[23:14] mraleph: also I just looked in the window and all streets are covered with snow... fuuuu
[23:15] Sidnicious: Greetings. I just upgraded to v0.4.0, and node no longer appears to be able to find modules installed with npm. I've reinstalled npm, and that does not seem to have helped. require('module') -> Error: Cannot find module 'module'
[23:15] Sidnicious: What might I be doing wrong?
[23:16] piscisaureus: the awesome isaacs is on that kind of stuff
[23:18] ceej: tjholowaychuk: I have a quick question, can you not do this anymore where the other app inherits from the main app ?  https://github.com/visionmedia/express/blob/f60bcca893c91e63fa3ba1c59d8a67bcf5670d10/examples/blog/app.js
[23:19] samcday: Sidnicious: Have you tried seeing what require.paths yields?
[23:19] tjholowaychuk: ceej: it should still work
[23:19] tjholowaychuk: mounted apps just do not work very well when they share the same middleware
[23:19] tjholowaychuk: the middleware are usually not self-aware
[23:19] tjholowaychuk: so things fuck up
[23:19] Sidnicious: samcday: Nothing npm-related: [ '/Users/me/.node_modules', '/Users/me/.node_libraries', '/usr/local/Cellar/node/0.4.0/lib/node' ]
[23:19] ceej: tjholowaychuk: really.... it's definitely not working when it comes to sessions or dynamic helpers 
[23:19] Sidnicious: aaaaah
[23:20] tjholowaychuk: ceej: yeah
[23:20] ceej: so it's advised not to do it that way anymore ?
[23:20] tjholowaychuk: not at the moment, im rewriting connect in my spare time
[23:20] ceej: kinda sucks as it's a nice way to split the app up
[23:20] tjholowaychuk: so i will try and make them more aware
[23:20] tjholowaychuk: yeah i agree
[23:20] tjholowaychuk: its ugly api-wise
[23:20] tjholowaychuk: but
[23:20] tjholowaychuk: nice to have
[23:21] ceej: tjholowaychuk: thank you, I'll also take a look in my spare time as I'm starting to use express for a production app now
[23:21] ceej: yep
[23:21] Sidnicious: I installed 0.4.0 with homebrew, so I suppose it's now in /usr/local/Cellar/..., not /usr/local/
[23:21] samcday: Sidnicious: That looks right though. NPM installs libs to /usr/local/ usually.
[23:21] tjholowaychuk: ceej: ok cool. my fork is at visionmedia/connect
[23:21] tjholowaychuk: will be merged back in later
[23:22] Sidnicious: samcday: yes, which isn't in require.paths
[23:22] ceej: tjholowaychuk: k
[23:23] samcday: Yeah, that's what I meant sorry. Not sure how you can tell either Homebrew to reference /usr/local/lib, or how you can tell NPM to reference /usr/local/Cellar lol. Not sure which way would be better practice either? Sorry ^_^
[23:23] Sidnicious: yeah…
[23:23] samcday: You could just be sneaky and symlink it though.
[23:24] Sidnicious: heh, symlink .npm?
[23:25] samcday: Nar. Just symlink /usr/local/Cellar/node/0.4.0/lib/node /usr/local/lib/npm 
[23:25] isaacs: samcday: stop, go no further
[23:25] aurynn has joined the channel
[23:25] isaacs: samcday: brew rm npm
[23:25] isaacs: samcday: curl http://npmjs.org/install.sh | sh
[23:25] samcday: Thank god :P Someone who knows what they're doing
[23:26] Sidnicious: Thanks, samcday :)
[23:26] isaacs: samcday: oh, it was Sidnicious who had the question?
[23:26] samcday: Aye :)
[23:26] isaacs: Sidnicious: add /usr/local/lib/node to your NODE_PATH environment var
[23:26] Sidnicious: isaacs: Yep, and that's how I have npm installed. Node's require.paths is [ '/Users/me/.node_modules', '/Users/me/.node_libraries', '/usr/local/Cellar/node/0.4.0/lib/node' ], which does not cover /usr/local/node/lib
[23:26] isaacs: Sidnicious: yeah
[23:27] isaacs: add this to your .bashrc or whtever:  export NODE_PATH=/usr/local/lib/node
[23:27] inky_ has joined the channel
[23:27] Sidnicious: eh… all right, if that's the preferred solution. So it won't work in the default configuration?
[23:27] Gruni has joined the channel
[23:27] joaojeronimo: Hi everyone, I'm a newbie and I need to make one node.js server talk to another one... I can't compile msgpack-rpc and I can't put any json-rpc implementation to work. Any other idea ? Where's the socket.io client for node.js version ?
[23:27] Sidnicious: Seems a bit sticky
[23:28] easternbloc_: mongoose limit and sort changed from .10 - .12
[23:28] easternbloc_: anyone have any clue how it works now?
[23:28] inky_: hey everyone. i am in need of some basic js assistance. im trying to use a callback function, and then call a function within the class i just initialized, but it seems like scope is messing up "this". this is the bit of code http://pastie.org/1568545
[23:29] inky_: you can see i have an init function in one class calling another init function, passing my redis object on, and then it should callback and call the .publish() function of the class that was just initialized (in this case, the class is this.transmitter)
[23:29] isaacs: Sidnicious: nope
[23:30] mraleph: v8: foo = function (a.b) {};
[23:30] v8bot: mraleph: SyntaxError: Unexpected token .
[23:30] Sidnicious: isaacs: Seems like there should be a warning or somethin' ;). Thanks, all appears to be well.
[23:30] piscisaureus: v8: foo = function(this.foo) {}
[23:30] v8bot: piscisaureus: SyntaxError: Unexpected token this
[23:30] mraleph: for a moment there I though that it compiles :-)
[23:30] piscisaureus: hehe lol
[23:31] piscisaureus: how many errors do you spot? I see 3
[23:32] mraleph: hehe.
[23:32] mraleph: so do I
[23:32] jacksonmills has joined the channel
[23:32] samcday: inky_: You can't reference "this" in a callback, it loses it's scope...
[23:33] inky_: yeah, that's what i've determined. i guess my question is, is there a way to reach that scope?
[23:33] inky_: or should i just come up with a different solution?
[23:33] samcday: Two ways: var self = this in the top level init function
[23:33] samcday: Then do self.transmitter.publish() in the callback
[23:33] inky_: right on, let me give that a try. and thank you.
[23:33] piscisaureus: inky_: also, your callback() call is probably at the wrong spot
[23:33] samcday: OR: do this: function() {
[23:33] samcday:       this.transmitter.publish();    
[23:33] samcday:     }.bind(this); <---- bind the function to this scope
[23:34] piscisaureus: I think it should be inside the transmitter.init callback
[23:34] samcday: Which reminds me. Can anyone point me to benchmarks or some writeup as to why binding functions and currying parameters is slower?
[23:34] blueadept has joined the channel
[23:34] samcday: Someone said so yesterday in here, didn't chase it up.
[23:34] tjholowaychuk: samcday: bind does quite a bit
[23:34] tjholowaychuk: if you look at v8's source
[23:34] forzan has joined the channel
[23:35] tjholowaychuk: i never touch it unless its in some boot code
[23:36] mraleph: piscisaureus: ok I can confirm that crankshaft is now working on cygwin. but for this benchmark it did not matter :-( 
[23:36] mraleph: still two times slower.
[23:36] samcday: tjholowaychuk: Fair enough, thanks :)
[23:37] mraleph: piscisaureus: also apparently you broke --prof
[23:38] dstik has joined the channel
[23:39] piscisaureus: mraleph: ouch
[23:39] abraham has joined the channel
[23:40] vipaca_ has joined the channel
[23:40] mraleph: piscisaureus: it segfaults in ProfilerSignalHandler
[23:41] balaa has joined the channel
[23:41] Sidnicious has left the channel
[23:41] easternbloc_: ok for anyone confused about the new mongoose queries 
[23:42] easternbloc_: you now need .with
[23:42] piscisaureus: mraleph: looks like ucontext->eip isnt reliable in that case
[23:42] easternbloc_: always worth reading the tests :)
[23:42] piscisaureus: oh maybe ucontext itself isnt
[23:43] piscisaureus: mraleph: seems that ProfilerSignalHandler is called with context == NULL
[23:44] mraleph: heh. not very useful for profiling.
[23:44] piscisaureus: yeah but I don't know from where it is called :-(
[23:44] piscisaureus: apparently if you just send a signal it works
[23:44] mraleph: piscisaureus: I think cygwin runtime calls it. this is emulation of signals.
[23:45] tmzt: tjholowaychuk: n's not working and seems to broken my node installation entireley, even node app.js is ECONNREF'ing
[23:47] piscisaureus: mraleph: maybe it's because I switched tgkill for pthread_kill
[23:47] piscisaureus: tgkill is not supported by sigwin
[23:47] mraleph: I don't think so
[23:48] NuckingFuts: Hmmmm.... So I guess the Cygwin buildbot system doesn't have OpenSSL? :V
[23:48] mraleph: I am searching for info about signals handling on cygwin and it seems that they always pass NULL. WTF?
[23:48] NuckingFuts: Or DNS servers lol
[23:48] piscisaureus: NuckingFuts: probably the latter
[23:48] piscisaureus: will fix
[23:48] tmzt: sigwin?
[23:48] tmzt: SIGWIN
[23:49] NuckingFuts: piscisaureus: Doesn't have either I mean
[23:49] piscisaureus: NuckingFuts: it has openssl. Are you looking at the mingw buildbot?
[23:49] NuckingFuts: === release test-tls-set-encoding ===
[23:49] NuckingFuts: Error: node.js not compiled with openssl crypto support.
[23:49] NuckingFuts: piscisaureus: Nope, this is Cygwin.
[23:50] NuckingFuts: piscisaureus: I'm looking at this page: http://buildbot.nodejs.org/builders/Cygwin/builds/5/steps/shell_2/logs/stdio
[23:50] mraleph: piscisaureus: the most amazing thing is that profiling somehow worked in node-0.4.0 before your patch.
[23:50] piscisaureus: mraleph: yeah that really sounds magic, considering that Sampler was just a big no-op :-)
[23:51] piscisaureus: arlorla: ping
[23:51] piscisaureus: arlolra: ping
[23:51] mraleph: piscisaureus: maybe it worked on 0.2.6
[23:52] piscisaureus: mraleph: but on 0.2.6 Sampler was also ripped out
[23:52] NuckingFuts: Is my interpretation correct, though, piscisaureus?
[23:52] piscisaureus: NuckingFuts: it has openssl, I think the buildmaster disabled it
[23:53] NuckingFuts: piscisaureus: Ah.  There's a lot of OTHER errors tho too.  Some entirely inexplicable.
[23:53] mraleph: piscisaureus: ah. I see.
[23:53] mraleph: piscisaureus: it did not record any samples. it recorded some other stuff though... but no samples.
[23:54] jashkenas has joined the channel
[23:55] piscisaureus: mraleph: ah ..
[23:55] piscisaureus: baad
[23:56] mraleph: piscisaureus: you probably need to go other road.
[23:56] piscisaureus: NuckingFuts: I'm not totally maintaining the cygwin build. You can be our guy
[23:56] mraleph: piscisaureus: platform-win32 style
[23:56] piscisaureus: mraleph: what's the matter?
[23:56] mraleph: well to get context I mean.
[23:56] aurynn has joined the channel
[23:57] piscisaureus: mraleph: that would be ok but cygwin doesn't always love you when you fiddle with windows apis directly
[23:57] dshaw has joined the channel
[23:57] piscisaureus: especially not low-level ones
[23:58] dstik1 has joined the channel
[23:58] aurynn: tjholowaychuk, Any eta on that updated spark? :)
[23:58] tjholowaychuk: aurynn: its not spark
[23:58] tjholowaychuk: should be shortly
[23:59] tjholowaychuk: we are just releasing a new version of learnboost
[23:59] tjholowaychuk: so waiting on that
[23:59] aurynn: Okay. :)
[23:59] Jaye_ has joined the channel
